linux-qcm-msm (2.6.31-802.5) UNRELEASED; urgency=low

  CHANGELOG: Do not edit directly. Autogenerated at release.
  CHANGELOG: Use the printchanges target to see the curent changes.
  CHANGELOG: Use the insertchanges target to create the final log.

  [ Ubuntu: 2.6.31-22.61 ]

  * SAUCE: docs -- fix doc strings for fc_event_seq
  * update to ubuntu-debian:7e708d33054c373faf41da23b73e8b48c342d958
    - LP: #570500, #576274
  * SAUCE: sched: update load count only once per cpu in 10 tick update
    window
    - LP: #513848
  * (pre-stable) x86-32, resume: do a global tlb flush in S4 resume
    - LP: #531309
  * PCI: Ensure we re-enable devices on resume
    - LP: #566149

 -- Andy Whitcroft <apw@canonical.com>  Wed, 09 Jun 2010 20:50:35 +0100

linux-qcm-msm (2.6.31-802.4) lucid-security; urgency=low

  [ Stefan Bader ]

  * Rebase to 2.6.31-22.60

  [ Ubuntu: 2.6.31-22.60 ]

  * kvm: restrict writing of segment selectors to segment registers
    - CVE-2010-0419
  * USB: usbfs: properly clean up the as structure on error paths
    - CVE-2010-1083
  * Bluetooth: Fix potential bad memory access with sysfs files
    - CVE-2010-1084
  * ALSA: hda-intel: Avoid divide by zero crash
    - CVE-2010-1085
  * dvb-core: Fix DoS bug in ULE decapsulation code that can be triggered
    by an invalid Payload Pointer
    - CVE-2010-1086
  * GFS2: Skip check for mandatory locks when unlocking
    - CVE-2010-0727
  * tipc: Fix oops on send prior to entering networked mode (v3)
    - CVE-2010-1187
  * inotify: do not reuse watch descriptors
    - LP: #485556
  * idr: fix a critical misallocation bug, take#2
    - LP: #485556
  * tty: release_one_tty() forgets to put pids
    - CVE-2010-1162
  * reiserfs: fix permissions on .reiserfs_priv
    - CVE-2010-1146
  * fix LOOKUP_FOLLOW on automount "symlinks"
    - CVE-2010-1088
  * NFS: Fix an Oops when truncating a file
    - CVE-2010-1087
  * Attempt #2 to handle null nameidata
    - CVE-2010-1148
  * r8169: Fix receive buffer length when MTU is between 1515 and 1536
    - CVE-2009-4537
  * r8169: offical fix for CVE-2009-4537 (overlength frame DMAs)
    - CVE-2009-4537
  * KVM: Use kvm_{read,write}_guest_virt() to read and write segment
    descriptors
    - CVE-2010-0298
    - CVE-2010-0306
  * KVM: x86 emulator: Check CPL level during privilege instruction
    emulation
    - CVE-2010-0298
    - CVE-2010-0306
  * KVM: x86 emulator: Add Virtual-8086 mode of emulation
    - CVE-2010-0298
    - CVE-2010-0306
  * KVM: x86 emulator: fix memory access during x86 emulation
    - CVE-2010-0298
    - CVE-2010-0306
  * KVM: x86 emulator: Check IOPL level during io instruction emulation
    - CVE-2010-0298
    - CVE-2010-0306
  * KVM: x86 emulator: Fix popf emulation
    - CVE-2010-0298
    - CVE-2010-0306
  * KVM: VMX: Use macros instead of hex value on cr0 initialization
    - CVE-2010-0298
    - CVE-2010-0306
  * KVM: SVM: Reset cr0 properly on vcpu reset
    - CVE-2010-0298
    - CVE-2010-0306
  * KVM: x86: disable paravirt mmu reporting
    - CVE-2010-0298
    - CVE-2010-0306

 -- Stefan Bader <stefan.bader@canonical.com>  Tue, 25 May 2010 19:04:42 +0000

linux-qcm-msm (2.6.31-801.3) lucid-proposed; urgency=low

  [ Tim Gardner ]

  * [Config] Updateconfigs after updating to qualcomm-2.6.31.12
  * [Config] Disable d-i

  [ Upstream Kernel Changes ]

  * pmem: Remove extra IO-remap for In-Kernel PMEM memory
  * msm: acpuclock-8x50a: Bump up max CPU freq to 1.19 GHz.
  * msm: acpuclock-8x50: Select ACPU VDD based on max freq EFUSE data.
  * pmem:  Add range checking to pmem_kapi_free_index_bitmap
  * msm: Add HDMI support for ST1.5
  * msm_fb: add SII9022 HDMI driver support
  * defconfig: automatic update
  * msm_kgsl:  Add support for double buffered GEM objects
  * msm_q6video: remove the video decoder and encoder drivers
  * [ARM] oprofile: Add scorpion support to Oprofile kernel driver
  * mmc: msm_sdcc: reset SDCC in case of data transfer errors
  * msmsdcc: Fix to prevent a compilation issue when DEBUG_FS is disabled.
  * mmc: Add support in board file to enable dummy 52 reads.
  * mmc: msm_sdcc: Add support in msmsdcc driver for dummy 52 reads.
  * sdio: Activate high speed clock after SDIO reset.
  * msm-nand: Add support for msm nand driver.
  * sdio: Claim and release host in the sdio_reset_comm API
  * msm: remote-spinlock: Return error if DAL remote lock init fails.
  * msm: smem_log: Check for remote spinlock initialization failures.
  * defconfig: automatic update
  * msm: acpuclock: Fix ACPU frequency units.
  * msm: Move Power Collapse and SWFI ACPU freqs into acpuclock drivers.
  * msm: acpuclock: Improve debug messages.
  * mtd: Enable MTD tests by default.
  * msm: clock: Add clocks for 8x50a
  * KSAPI: Fix the global thread and AXI counters
  * msm_serial_hs: HSUART driver from Qualcomm
  * msm_serial_hs: Redo hs uart driver for MSM7k
  * msm: msm_serial_hs: Wakeup on uart1dm irq
  * msm: msm_serial_hs: Add optional low power wakeup.
  * msm: msm_serial_hs: Hold wakelock while rx dma in progress.
  * msm: msm_serial_hs: Disable datamover when clocking off uart.
  * [ARM] msm: bluetooth: power switch hardware support
  * msm_fb: Make the pitch for the framebuffer 32 pixel aligned
  * bluetooth: Add Bluetooth power driver
  * bluetooth: remove initial power off for Bluetooth
  * defconfig: enable Bluetooth power driver for ST-1.0 and ST-1.5
  * USB: gadget: Add chrome composite gadget
  * defconfig: Removed unnecessary options from ST1 defconfig
  * defconfig: Removed unnecessary options from ST1.5 defconfig
  * pmem: mark pmem_adsp region as cached
  * [ARM] msm: qsd8k: Device Access Layer (DAL) RPC
  * msm: smd: provide atomic channel writes
  * [ARM] msm: driver for rmnet virtual ethernet interface
  * msm_rmnet: Fix SMD port names
  * [ARM] msm: Add qdsp6 config option and makefile
  * [ARM] msm: qdsp6: Support Qualcomm's SMD Driver
  * msm: qdsp6: Add convenience wrapper for rpc idx 14
  * msm: audio: 8x50: Add dal interface version check in audio driver
  * qsd8k: audio: tracing, and stuck dsp panic code
  * msm: audio: 8x50: New Voice call interface for Audio driver
  * qsd8k: dal: add tracing capabilities to DAL channels
  * qsd8k: audio: enhance stuck dal debugging
  * [ARM] qsd8k: initialize the spinlock in dal_client
  * driver: fix msm_rmnet driver problem with dropping packets
  * driver: interrupt based flow control in msm_rmnet driver
  * defconfig: Enable diag on gadget
  * msm: CP register access tool for Read/Write to CP registers
  * msm_fb:  Add support for changing the scan-out address
  * diag: Various fixes for Qualcomm SoC diagnostics driver
  * defconfig: automatic update
  * defconfig: enable DRM on ST1
  * defconfig: Enable CPU frequency scaling for ST1
  * msm_rmnet: set start of transmission time
  * msm_rmnet: kill the tasklet when the network device is stopped
  * serial: Add MSM high speed UART driver
  * defconfig: Enable HSUART module for ST-1 and ST-1.5
  * usb: gadget: use clk_reset API's for resetting hardware blocks
  * defconfig: Enable Libra WLAN for st1 and st1.5
  * defconfig: turn off PMEM_GPU0 for ST1 and ST1.5
  * defconfig: Perf defconfigs for ST1 and ST1.5
  * Enable the config option for qdsp6 compilation.
  * msm: qdsp6: Implement new Scorpion/QDSP6 interface
  * msm_q6venc: data structure changes for new encoder interface 2.0
  * msm_q6video: remove the video encoder unused header file
  * vfp: Handle vfp context preserve/restore during signal
  * [ARM] msm: Defer partition address and size computation.
  * msm: Add support for LID open/close detection on ST1.5
  * msm_kgsl:  Fix logic in a macro in the DRM driver
  * msm: sdcc: ports 1 and 2: Reduce the clock frequency to 40.96MHz
  * msm: sdcc: ports 1 and 2: Increase clock drive strength to 16MA.
  * defconfig: automatic update
  * 8x50a: audio: Add audio GPIO for ST1.5.
  * defconfig: Enable gpio_keys driver for Lid Sensor on ST1.5
  * qdsp6: add audiov2 driver
  * wireless: libra: SDIO interface module
  * msm: audio: 8x50: allow either legacy or new audio driver
  * defconfig: Enable usb host CDC ACM and ECM support
  * msm: mdp: Add support for asynchronous hardware bliting
  * qdsp6: add audiov2 pcm open routines
  * alsa: soc: 8k: Add support for qsd audio v1 and v2 devices.
  * 8x50: audio: Fix compile errors in audiov2 driver.
  * defconfig: Enable Libra SDIO Interface Module for ST1.5
  * defconfig: enable asynchronous hardware bliting
  * defconfig: automatic update
  * alsa: soc: 8k: Fix build and config options for audiov2 interface.
  * defconfig: Enable PPP support for ST1 and ST1.5.
  * vfp: change vfp context save logging to pr_debug to suppress excess
    spew
  * msm: msm72k_udc: gadget driver for msm7k
  * msm: msm72k_udc: gadget driver for msm7k
  * msm_kgsl:  Use dmac_flush_range to flush cached GEM memory
  * msm: qdsp6: Fix pmem leak when application crash
  * msm: usb: gadget: support for ep0 out requests
  * msm: usb: gadget: Send ACK handshake to CLEAR_FEATURE req for EP0
  * msm: usb: gadget: STALL support for endpoint
  * msm: usb: gadget: clear the stall bit on CLEAR FEATURE cmd
  * msm: usb: gadget: add support for interrupt endpoint type
  * msm: usb: gadget: support usb protocol SET FEATURE cmd
  * msm: usb: gadget: support usb protocol GET STATUS cmd
  * msm: usb: gadget: usb electrical test modes support
  * msm: usb: gadget: support remote wakeup GET/SET/CLEAR features
  * msm: usb: gadget: Add support to initiate Remote Wakeup through Sysfs
  * msm: usb: gadget: Save and restore otgsc register at h/w reset
  * msm: usb: gadget: Add check to enable pullup if gadget and VBUS are
    valid
  * msm: usb: gadget: Call _pullup function to enable pullup after reset
  * msm: usb: gadget: Disable pullup when vbus is off
  * msm: usb: gadget: Move udc header file to platform folder
  * msm: usb: gadget: Configure endpoints properly in msm72k_enable
  * qup_i2c: Initial implementation of I2C mini-core driver for QUP
  * msm: ONFI probe fix for MT29F4G08ABC device.
  * msm_kgsl: Implement the old version of the KGSL_SHAREDMEM_FROM_PMEM
    ioctl.
  * msm: usb: gadget: misc
  * msm: usb: reset the PHY before suspend
  * msm: usb: gadget: Set max packet size to 64 for non-bulk endpoints.
  * msm: usb: gadget: Fix reference after free bug in handle_endpoint()
  * usb: msm_gadget: Interface support with otg
  * defconfig: Enable USB DCD driver
  * msm_fb: Fix error handling code for asynchronous hardware blit
  * msm: clock: Add GRP_PCLK to 8x50A.
  * Bluetooth: export interfaces for sleep
  * serial: export interfaces for sleep
  * msm: acpuclock-8x50: Use PLL0 instead of AXI under all scenarios.
  * msm_kgsl: Add support for caching GEM objects
  * PMIC: Add driver for TPS65023
  * defconfig: automatic update
  * headers:  Add msm_kgsl.h to the list of headers to be installed
  * defconfig: Enable ALSA SOC for ST1.5.
  * msm:  Add ST1-specific changes for ST TPM device
  * tpm: Add support for ST ST19NP18 I2C TPM device
  * diag: Make DIAG char driver static
  * 8x50: audio: Enable ST1.5 speaker phone.
  * msm_kgsl: export kgsl_drm header
  * qup_i2c: Make sure that READ start and READ size tags are in same FIFO
  * qup_i2c: Disable QUP interrupts when QUP is not in use.
  * qup_i2c: Move QUP register initialization to first transfer
  * usb: gadget: diag: Fix to send correct pid and serial number
  * defconfig: enable SECURE_FILE_CAPABILITIES for st1 and st15
  * Kbuild: export msm headers to userspace
  * msm: add GPIO IRQ number for ST1, ST1.5 k/b, touchpad
  * alsa: soc: 8k: Initialize the audio device upon ALSA open.
  * qup_i2c: Use DEBUG correctly as a flag and not as a value.
  * qup_i2c: Use platform specific PCLK, I2C clock name.
  * qup_i2c: Use platform specific PCLK, I2C clock name.
  * MSM: add trackpad driver in st1.5
  * 8x50: audio: Enable speaker and mic on ST1.5.
  * defconfig: automatic update
  * qup_i2c: Make driver compatible with new QUP I2C core.
  * qup_i2c: Support reads, writes greater than FIFO-size number of bytes
  * defconfig: use Quanta trackpad by default for st1q variants
  * MSM: add keyboard driver in st1.5
  * msm: Correct dma memory allocate and free size in probe and remove
    methods
  * defconfig: build Quanta keyboard by default for ST 1.x boards
  * defconfig: enable CONFIG_EFI_PARTITION for ST 1.x boards

 -- Andy Whitcroft <apw@canonical.com>  Wed, 21 Apr 2010 11:49:40 +0100

linux-qcm-msm (2.6.31-800.2) lucid; urgency=low

  [ Andy Whitcroft ]

  * getabis -- get the correct source package
  * rebase to Ubuntu-2.6.31-21.59

  [ Ubuntu: 2.6.31-21.59 ]

  * [Config] generic-pae switch to M586TSC
    - LP: #519448
  * (pre-stable) drm/i915: Increase fb alignment to 64k
    - LP: #404064
  * Input: i8042 - bypass AUX IRQ delivery test on laptops
    - LP: #534448
  * SAUCE: Fix volume hotkeys for Dell Studio 1557
    - LP: #465250
  * SAUCE: aufs: Fix header files inclusion in debug.h
    - LP: #517151
  * [Config] Enable all CGROUP configuration options
    - LP: #480739
  * Revert "[Upstream] acerhdf: Limit modalias matching to supported
    boards"
    - LP: #509730
  * [Config] ext3 defaults to ordered mode
    - LP: #510067
  * [Config] Fix sub-flavours package conflicts
    - LP: #454827
  * PCI/cardbus: Add a fixup hook and fix powerpc
    - LP: #455723
  * fnctl: f_modown should call write_lock_irqsave/restore
    - LP: #519436
  * ACPI: enable C2 and Turbo-mode on Nehalem notebooks on A/C
    - LP: #516325
  * tg3: Add 57788, remove 57720
    - LP: #515390
  * HID: ignore all recent SoundGraph iMON devices
    - LP: #488443
  * Input: ALPS - add interleaved protocol support (Dell E6x00 series)
    - LP: #296610
  * acerhdf: limit modalias matching to supported
    - LP: #509730
  * ASoC: Do not write to invalid registers on the wm9712.
    - LP: #509730
  * cifs: NULL out tcon, pSesInfo, and srvTcp pointers when chasing DFS
    referrals
    - LP: #509730
  * clockevents: Prevent clockevent_devices list corruption on cpu hotplug
    - LP: #509730
  * dma: at_hdmac: correct incompatible type for argument 1 of
    'spin_lock_bh'
    - LP: #509730
  * drivers/net/usb: Correct code taking the size of a pointer
    - LP: #509730
  * Libertas: fix buffer overflow in lbs_get_essid()
    - LP: #509730
  * md: Fix unfortunate interaction with evms
    - LP: #509730
  * pata_cmd64x: fix overclocking of UDMA0-2 modes
    - LP: #509730
  * pata_hpt3x2n: fix clock turnaround
    - LP: #509730
  * SCSI: fc class: fix fc_transport_init error handling
    - LP: #509730
  * sound: sgio2audio/pdaudiocf/usb-audio: initialize PCM buffer
    - LP: #509730
  * USB: emi62: fix crash when trying to load EMI 6|2 firmware
    - LP: #509730
  * USB: Fix a bug on appledisplay.c regarding signedness
    - LP: #509730
  * USB: musb: gadget_ep0: avoid SetupEnd interrupt
    - LP: #509730
  * USB: option: support hi speed for modem Haier CE100
    - LP: #490068, #509730
  * x86, cpuid: Add "volatile" to asm in native_cpuid()
    - LP: #509730
  * e100: Use pci pool to work around GFP_ATOMIC order 5 memory allocation
    failure
    - LP: #509730
  * e100: Fix broken cbs accounting due to missing memset.
    - LP: #509730
  * hostap: Revert a toxic part of the conversion to net_device_ops
    - LP: #509730
  * hwmon: (fschmd) Fix check on unsigned in watchdog_write()
    - LP: #509730
  * hwmon: (sht15) Off-by-one error in array index + incorrect constants
    - LP: #509730
  * i2c/tsl2550: Fix lux value in extended mode
    - LP: #509730
  * ipv6: reassembly: use seperate reassembly queues for conntrack and
    local delivery
    - LP: #509730
  * S390: dasd: support DIAG access for read-only devices
    - LP: #509730
  * udf: Try harder when looking for VAT inode
    - LP: #509730
  * V4L/DVB (13596): ov511.c typo: lock => unlock
    - LP: #509730
  * x86/ptrace: make genregs[32]_get/set more robust
    - LP: #509730
  * XFS bug in log recover with quota (bugzilla id 855)
    - LP: #509730
  * generic_permission: MAY_OPEN is not write access
    - LP: #509730
  * memcg: avoid oom-killing innocent task in case of use_hierarchy
    - LP: #509730
  * Input: atkbd - add force relese key quirk for Samsung R59P/R60P/R61P
    - LP: #253874, #509730
  * Add unlocked version of inode_add_bytes() function
    - LP: #509730
  * ext4: fix sleep inside spinlock issue with quota and dealloc (#14739)
    - LP: #509730
  * Linux 2.6.31.10
    - LP: #509730
  * Linux 2.6.31.11
    - LP: #509730
  * quota: decouple fs reserved space from quota reservation
    - LP: #510674
  * ext4: Convert to generic reserved quota's space management.
    - LP: #510674
  * hwmon: (adt7462) Fix pin 28 monitoring
    - LP: #510674
  * netfilter: nf_ct_ftp: fix out of bounds read in update_nl_seq()
    - LP: #510674
  * quota: Fix dquot_transfer for filesystems different from ext4
    - LP: #510674
  * fix braindamage in audit_tree.c untag_chunk()
    - LP: #510674
  * fix more leaks in audit_tree.c tag_chunk()
    - LP: #510674
  * ACPI: sleep: another HP DMI entry for init_set_sci_en_on_resume
    - LP: #453963, #510674
  * ACPI: add DMI entry for SCI_EN resume quirk on HP dv4
    - LP: #453963, #510674
  * ACPI: sleep: another HP/Compaq DMI entries for
    init_set_sci_en_on_resume
    - LP: #453963, #510674
  * ACPI: DMI init_set_sci_en_on_resume for HP-Compaq C700
    - LP: #453963, #510674
  * Linux 2.6.31.12
    - LP: #510674

  [ Ubuntu: 2.6.31-20.58 ]

  * Revert "[Upstream] e1000: enhance frame fragment detection"
    - CVE-2009-4536
  * Revert "[Upstream] e1000e: enhance frame fragment detection"
    - CVE-2009-4538
  * e1000: enhance frame fragment detection
    - CVE-2009-4536
  * e1000/e1000e: don't use small hardware rx buffers
    - CVE-2009-4536
  * e1000e: enhance frame fragment detection
    - CVE-2009-4538
  * KVM: PIT: control word is write-only
    - CVE-2010-0309
  * connector: Delete buggy notification code.
    - CVE-2010-0410
  * Fix potential crash with sys_move_pages
    - CVE-2010-0415
  * futex: Handle user space corruption gracefully
    - CVE-2010-0622
  * futex_lock_pi() key refcnt fix
    - CVE-2010-0623
  * Split 'flush_old_exec' into two functions
    - CVE-2010-0307
  * Fix 'flush_old_exec()/setup_new_exec()' split
    - CVE-2010-0307
  * x86: get rid of the insane TIF_ABI_PENDING bit
    - CVE-2010-0307
  * powerpc: TIF_ABI_PENDING bit removal
    - CVE-2010-0307
  * sparc: TIF_ABI_PENDING bit removal
    - CVE-2010-0307
  * x86: set_personality_ia32() misses force_personality32
    - CVE-2010-0307

 -- Andy Whitcroft <apw@canonical.com>  Wed, 31 Mar 2010 18:43:39 +0100

linux-qcm-msm (2.6.31-800.1) lucid; urgency=low

  [ Qualcomm ]

  * sparc: Kill PROM console driver.
  * tty: Mark generic_serial users as BROKEN
  * [ARM] msm: shared memory interface for baseband processor ipc
  * [ARM] msm: gpio support
  * [ARM] msm: shared memory tty interface
  * [ARM] msm: shared memory qmi interface
  * [ARM] msm: shared memory rpc router
  * [ARM] msm: provide AMSS version selection mechanism
  * [ARM] msm_rpc: support rpc servers
  * [ARM] msm: Timer fixes.
  * [ARM] msm: irq: fix lockdep issues
  * [ARM] msm: irq: Add sleep support.
  * [ARM] msm: clock: Cpu clk stepping.
  * [ARM] msm: power management - add wakeup support and implement suspend to ram as wait for interrupt
  * [ARM] msm: pick up partition table from bootloader via private ATAG
  * [ARM] msm: enable installation of an FIQ handler
  * [ARM] msm: halibut: Add memory configuration.
  * [ARM] msm: clock: Simple cpufreq scaling based on screen ON/OFF
  * [ARM] msm: halibut: support fiq mode kernel debugger if configured
  * [ARM] msm: add keypad for halibut board
  * [ARM] msm: trout: Add trout (aka Dream/G1) machine target and some defines
  * [ARM] msm: trout: CPLD GPIO driver
  * [ARM] msm: trout: platform specific keypad driver
  * [ARM] msm: trout: obtain calibration data for the compass sensor
  * [ARM] msm: trout: Code to extract wifi calibration data from ATAGs
  * [ARM] msm: trout: htc acoustic driver
  * [ARM] msm: trout: htc2wire driver to support htc headsets
  * [ARM] msm: add hook for vbus state notification
  * [ARM] trout: htc platform battery driver
  * [ARM] msm: trout: Add msm_fb support to trout architecture
  * [ARM] msm: clock: Adding ondemand cpufreq scaling.
  * [ARM] msm: common: Add SDC device runtime registration
  * [ARM] trout_mmc: Initial MMC support for Trout on 2.6.27
  * [ARM] msm: trout: Adds trout Power Sink Driver
  * [ARM] msm: trout: bluetooth: Use rfkill API to turn bluetooth chipset on/off.
  * [ARM] msm: trout: Temporarily Disable DMA for SDC1
  * [ARM] msm: Add MSM_DEBUG_UART option.
  * [ARM] msm: lldebug: Fix waituart
  * [ARM] msm: Fix bugs preventing modular build
  * [ARM] msm: Turn ON DMA support for SDC1
  * [ARM] msm: clock: Support for freq table in speed selection.
  * [ARM] msm: clock: Fix cpu speed ramping down from 528mhz.
  * [ARM] msm: trout-h2w: Don't call request_irq with interrupts disabled.
  * [ARM] msm: generic_gpio: Don't pass GFP_KERNEL to kmalloc when holding a spinlock
  * [ARM] msm: gpio: Don't call generic_handle_irq with interrupts enabled
  * [ARM]: msm: clock: Adding PLL2 clocks for 528 power collapse stepping.
  * [ARM] trout: Add abstract wifi control functions support
  * [ARM] msm: halibut: add list of SND endpoints
  * [ARM] msm: acpuclock: Fix conditional compile symbol in acpuclock.h.
  * [ARM] msm: timer: Don't call ktime_get from msm_timer_sync_smem_clock
  * [ARM] msm: Prevent clocksource read from jumping back after power collapse.
  * [ARM] msm: Don't call ktime_get from sched_clock
  * [ARM] msm: oprofile: Enable OProfile and preserve performance counters.
  * [ARM] msm: htc_headset: Import new headset driver from HTC
  * [ARM] msm: trout: Switch to new headset driver in trout
  * [ARM] msm: move clock definitions to devices.c
  * [ARM] msm: htc_acoustic: use smem and rpc to write acoustic table
  * [ARM] msm: acpuclock: Remove VDD check during init.
  * [ARM] msm: htc_pwrsink: Generify driver
  * [ARM] msm: vibrator: Initial support for MSM PMIC vibrator
  * [ARM] msm: FIQ: Add ability to unselect an FIQ IRQ
  * [ARM] msm: iomap: Add entries for HSUSB_BASE, SSBI, and TSSC
  * [ARM] sapphire: Initial import of Sapphire board support
  * [ARM] msm: htc: Clean up USB support in trout and sapphire board files
  * [ARM] msm: make clkctl speed struct internal
  * [ARM] msm: acpuclock: Couple minimum AXI freq to the current CPU freq.
  * [ARM] msm: Move cpufreq code from acpuclk.c to cpufreq.c
  * [ARM] msm: acpuclock: Enable PLLs of stepping freqs when necessary.
  * [ARM] msm: smd_qmi: Add a wakelock with a timeout to prevent sleep after receiving a qmi notification.
  * [ARM] msm: smd_tty: Lock a wakelock for half a second when receiving data.
  * [ARM] msm: smd_rpcrouter_servers: Hold a wakelock while calling rpc_call.
  * [ARM] msm: smd_rpcrouter: Hold a wakelock while while reading a packet, and while packets are queued.
  * Large update patch for arch/arm/mach-msm
  * Large generic arm update.
  * [ARM] msm: remove msme2 vreg control
  * [ARM] msm: acpuclock: Rewrite runtime clock plan selection.
  * [ARM] msm: smem_log: Add power log debugfs node
  * [ARM] msm: Add rpc client operation framework
  * [ARM] msm: pmic: prefix modem control APIs with pmic_
  * [ARM] msm: acpuclock-8x50: Fix typo in efuse magic values.
  * [ARM] msm: pmic: add new modem control APIs
  * [ARM] msm: timer: reduce rounding error in time sync calculation
  * [ARM] msm: bluetooth: power switch hardware support
  * [ARM] msm: Add smd rpc ping module
  * msm: export msm_rpc_create_server
  * [ARM] msm: clock: Add new clocks for 7x27 and 8x50.
  * [ARM] msm: Add write and read to execute tests and return results
  * [ARM] msm: keep vmalloc space location with 2G/2G memory split
  * [ARM] msm: handset: Add handset callback api support
  * [ARM] msm: Save test results across reads and writes
  * [ARM] msm: pm: set CLK_SLEEP_EN register before SWFI
  * [ARM] msm: suspend: fix suspend restore code
  * [ARM] msm: acpuclock-8x50: Fix SCPLL init and freq switching code.
  * [ARM] msm: acpuclock-8x50: Fix efuse magic value bit length.
  * [ARM] msm: move DRAM physical address for 8K QSD
  * [ARM]: msm: Apply new MSM naming scheme
  * [ARM]: msm: Add base board support for msm7x30
  * [ARM] msm: Fix GPIO2 base address for ARCH_QSD8X50
  * [ARM] msm: irq: Fix incorrect bounds checking
  * [ARM] msm: svs: Make PMIC_DEFAULT_DCDC1 configurable
  * [ARM] msm: smd_ctl2: Use per-inst buf and inc tx/rx buf size from 1k to 2k
  * [ARM] msm: smd: Add support for msm7x30
  * [ARM] msm: smd: Add error checking to smem_find calls
  * [ARM] msm: proc_comm: Add support for msm7x30
  * [ARM] msm: pmic: fix endless read operation during debugfs read
  * [ARM] msm: Remove loopback driver
  * [ARM] msm: acpuclock: Disable PLLs during 7x30 power collapse.
  * [ARM] msm: pm: pm2: Enable msm_pm_restart restart handling.
  * [ARM] msm: clock: Add support for voting on EBI1 min rate.
  * [ARM] msm: clock: Use system bus QoS to vote for min AXI freq.
  * [ARM] msm: idle: Use vfp subsystem to preserve vfp context
  * [ARM] msm: add vreg reference count
  * [ARM] msm: Add jtag debug register save & restore
  * [ARM] msm: move DRAM physical address for qsd8k
  * [ARM] msm: allow external LCDC display for 8K surf
  * [ARM] msm: GPIO: group operations
  * [ARM] pm: reset chip when Modem fails to respond to handshake
  * [ARM] msm: moved cpufreq to late_initcall
  * [ARM] msm: Update residencies and latencies for the sleep modes on 8x50.
  * [ARM] msm: pm: Fix up existing workaround to enable code refactoring.
  * [ARM] msm: clock: Refactor code to allow SoC specific implementation.
  * [ARM] msm: clock: Add new list of supported clocks for 7x30.
  * [ARM] msm: idle: add memory barriers, cache flush, TLB invalidation
  * [ARM] msm: add proc_comm commands for clkctl_rpc_reset assert/deassert
  * msm: Add more support in RPC Client Framework
  * msm: Cleanup Ping MDM client driver
  * msm: Add OEM RAPI RPC Client Driver.
  * [ARM] msm: add new vreg IDs for MSM7X30
  * msm: rpc: fix warnings when disabling MSM_ONCRPCROUTER_DEBUG
  * arm: msm: fix BSD license statement in headers
  * add arch_has_speculative_dfetch() to address dma caching issue
  * [ARM] msm: AMSS >= 6350 swaps VFE_CLK and VFE_MDC_CLK
  * msm: pmic: add HSED APIs
  * msm: move DRAM physical address for 8K QSD processors
  * msm: Include required header files in oem_rapi_client.h
  * msm: irq: Fix msm_irq_enter_sleep2 to return correct status.
  * msm: pm: reset chip when Modem fails to respond to handshake (n-way)
  * msm: Add support for NULL RPC callback function
  * msm: correct gpio register address for 8K
  * msm: Make logging SMD debug messages a config option
  * msm: pm: Add config option to choose power management timeout action
  * msm: clock: Add support for clk_round_rate().
  * msm: Add smd tty device interface for SMD port 'DATA21'
  * msm: Fix bugs in oem_rapi driver
  * msm: Add new smem items
  * msm: clock: Add new proc-comm clock ids for 7x30.
  * msm: dma: Use proper EXPORT_SYMBOL.
  * msm: gpio: Add support for msm7x30
  * msm: clock: Update supported clocks list for 7x30.
  * msm: spi: Add SPI clock support for 7x30
  * msm: add proc_comm commands for clkctl_rpc_rail on/off
  * msm: acpuclock-8x50: Couple CPU freq and AXI freq.
  * msm: clock: Implement direct clock control for 7x30.
  * msm: socinfo: Add support for msm7x30
  * msm: smc91x: off-by-one in memory resource
  * msm: clock: Updated supported clock list for 7x30.
  * msm: acpuclock-8x50: Avoid configuring PLL divider mux when not using it.
  * msm: clock-7x30: Handle AXI_LI_ADSP_A clock dependencies.
  * msm: allow smd_ctl_read to attempt reading more than maximum packet size
  * msm: set low_latency flag for DATA1 smd port tty interface
  * Use msm_rpc_connect_compatible API in pmic function
  * msm: pm: correct CLK_SLEEP_EN bit value for 7x27
  * msm: pm: fix residency math to match expiration time unit
  * msm: pm: update shared memory bits
  * msm: provide interface to set/clear smsm_intr_mask
  * rpcrouter: cleanup printk messages
  * smem_log: add missing newline in printk, use __func__
  * msm: io: refactor msm_map_*_io() and compile out unused code
  * msm: dma: disable dma clk when idle
  * msm: Fix bug in ping modem client in callback reply
  * msm: remote-spinlock: Use SWP-based locking with ARM11 apps cores
  * msm: clock: Correct MI2S clock divider for 7x30
  * msm: clock: Add SoC/board independent APIs to set/get max AXI frequency.
  * msm: vreg: fix a typo for lvsw1
  * msm: Change some SMD info messages to dbg messages to reduce logging
  * msm: Check for correct RPC version and program in callback request
  * msm: rpc: Add support for PING control message.
  * msm: proc_comm add commands for clkctl
  * msm: clock: Add MI2S codec clocks in 7x30 clock list
  * msm: allow users to disable smem logger
  * msm: Add kconfig option to disable NMEA driver
  * msm: smd: split into separately configurable pieces
  * msm: clock: Fix AXI rate voting use of magic value
  * msm: acpuclock: Reduce AXI freq to 61.44 MHz at ACPU freq of 245.76 MHz
  * msm: acpuclock: Restore VDD when returning from power collapse
  * mm: qsd8x50: Fix incorrect permission faults
  * mm: Add SW emulation for ARM domain manager feature
  * msm: Add more support in RPC server infrastucture
  * msm: acpuclock: Rewrite frequency stepping
  * msm: acpuclock: Grab lock when changing ACPU freq.
  * msm: clock: Add rotator clocks to 7x30 clock list
  * msm: Fix UART base address for MSM7x30
  * msm: acpuclock-8x50: Fix PLL0 speed for CDMA-only targets
  * msm: qsd8x50: Add adaptive voltage scaling (AVS)
  * msm: remote-spinlock: Remove WFE instruction.
  * msm: dma: Add crypto engine DM channels.
  * msm: dma_test: allocate minor number dynamically
  * msm: Add API for clock power rail control using proc_comm
  * msm: clear SMSM interrupt masks during initialization
  * msm: timer: set SMSM bits for time sync during initialization
  * msm: clock: Add camera clocks to 7x30 clock list
  * msm: smd_rpcrouter: fix bug in pacmark messages sequence.
  * msm: dma: Track waiting for requests as io_wait time
  * msm: timer: Fix 7x30 debug timer register offsets and clock source
  * msm: timer: Remove MSM_DGT_SHIFT for Scorpion processors
  * msm: Handle SMD packets with 0 length
  * msm: Add OEM proc comm commands enumeration
  * msm: socinfo: Add support for hw_smem v3
  * msm: proc_comm: fix typo of POCM for PCOM
  * msm: mpp: add MPP as digital input configuration API
  * msm: acpuclock-8x50: Clean-up PLL0 fix-up
  * msm: acpuclock-8x50: Change "a11" naming convention to "acpu"
  * msm: clock: Fix proc_comm 'OFF' flags for several 7x30 clocks
  * msm: clock: Put clock lists in alphabetical order
  * msm: iomap: Add 7x30 ACC register region
  * msm: Add MSM7x30 FFA and MSM7x30 FLUID board types
  * msm: internal_power_rail: Add MFC power rail control support
  * msm: acpuclock: Move CPU-specific defines to correct driver files
  * msm: clock: Implement clock reset API.
  * msm: gpio: move two msm_gpio structs from gpio.c to gpio_chip.h
  * msm: clock-7x30: Add image rotator clock support.
  * msm: Add module to test proc comm system
  * msm: socinfo: add SoC ID of 61 of ESM7x27 to 7x27 list.
  * msm: clock-7x30: Add support for local PLL enable/disable.
  * msm: acpuclock-8x50: Remove support for frequencies based on PLL1.
  * msm: timer: use tiered method to sync DGT after power collapse
  * msm: add pmic8058-gpio.c to support PM8058 GPIO in gpiolib framework
  * msm: add pmic8058-mpp.c to support PM8058 MPP in gpiolib framework
  * msm: clock: Add support for AXI_ROTATOR and HDMI clocks.
  * mach_msm: Conditionalize SMD support in GPIO code.
  * mach_msm: dma: Use an ISR safe disable IRQ call
  * msm: add grapefruit qsd8x50 support.
  * msm: add config option for grapefruit platform
  * msm: Add QSD8x50 ST1 machine type.
  * msm: gpio: Fix misnamed ifdefs
  * [ARM] fault: Check for VM_EXEC permission in prefetch abort
  * sched: Extend completion api to allow io_wait time tracking
  * pm_qos: Add QoS param, minimum system bus frequency
  * [ARM] vfp: Add additional vfp interfaces
  * Add missing bits for compilation.
  * Remove more driver related stuff.
  * rtc: Try to prevent RTC errors from accumulating.
  * msm: RTC driver for Qualcomm MSM chipsets.
  * Include tlbflush.h in pgtable.h
  * ARM: dma-mapping: switch ARMv7 DMA mappings to retain 'memory' attribute
  * mm: create pgprot macros to support various cacheable memory types
  * system: update pgprot_device to use pgprot_modify
  * mm: Make coherent memory as normal noncached on all MSM's
  * msm: change dma_coherent_pre/post_ops() to use COHERENT_IS_NORMAL
  * pmem: Add pmem driver
  * pmem changes from Initial Contribution.
  * [ARM] msm: pmem: PMEM_DEBUG defined according to defconfig
  * pmem: various updates.
  * pmem: add ioctls to clean and/or invalidate caches
  * pmem: Add bitmap quantasized allocation algorithm.
  * pmem: add api for PMEM alloc and free from kernel space
  * pmem: Make number of allocated regions dynamic
  * pmem: add more error checking in connect function.
  * pmem: fix spinlock recursion messages
  * pmem: verify alignment of incoming values
  * pmem: add sysfs component for status of regions
  * pmem: fix buddy free memory corruption bug
  * pmem: fail device initialization if passed in a zero size
  * pmem: fix output formatting and code cosmetics
  * pmem: minor code fixes
  * pmem: fix and simplify bitmap manipulation
  * pmem: add 8k board support
  * pmem: Add Kconfig description.
  * [ARM] msm: Adding display drivers.
  * [ARM] msm_fb: Don't crash if platform data is missing.
  * [ARM] msm_fb: Fix bugs in dummy client driver, clean args for client functions.
  * [ARM] msm: fb: Fixing bug in fb driver when invalid update is encountered.
  * [ARM] msm: mdp: Refer to image memory by file struct instead of fd
  * [ARM] msm: mdp: Missing image type when checking if src has alpha
  * msm: msm_fb: update mach-msm msm_fb.h
  * msm: msm_fb: add capabilities field
  * msmfb: specify partial updates support as a panel capability.
  * Initial Contribution for msm framebuffer.
  * [ARM] msm_fb: fix mddi resume lock up
  * msm_fb : bug fix for MDDI/LCDC auto detection feature.
  * [ARM] msm_fb: change backlight to use max and min value
  * msm: msm_fb: add platform data into board.h
  * msm: msm_fb: update platform data backlight callback arguments.
  * [ARM] msm_fb: increase toshiba backlight level
  * Add video Kconfig changes
  * [ARM] msm_fb: add support for Comet2 display
  * Initial Contribution changes for msm_mdp.h
  * [ARM] msm_fb: add gamma curve support
  * [ARM] msm_fb: add histogram support
  * msm_fb:  Replace interruptible waits with killable waits
  * [ARM] msm_fb: disable mddi from panel detection.
  * msm_fb: fix for suspend resume issue
  * msm_fb:  Try to detect a hung MDP
  * [ARM] msm_fb: change mdp idle wait time to 1 sec
  * [ARM] msm fb: only call client_id function when it's defined
  * [ARM] msm fb: rename external SVGA mode to WXGA
  * [ARM] msm_fb: move LUT block after histogram
  * [ARM] msm_fb: enable mddi client detection on lcdc platform
  * msm: msm_fb: update 7x25 to use mddi prescan
  * video: Fix failure to fill in file pointer upon bad pmem return.
  * [ARM] msm_fb: csc pre limit vector fix
  * msm_fb: better fix for suspend resume issue
  * msm_fb:	added LCD_3V regulator on/off support in lcdc.
  * msm: add 7x27 lcdc_power_save callback
  * [ARM] msm_fb: lcdc frame done bug fix
  * [ARM] msm_fb: remove 24bpp check for lcdc
  * [ARM] msm_fb: fix h2v2 image output
  * msm_fb: fix BSD license statement in headers
  * msm_fb: add backlight on/off support for msm7x27 lcdc
  * msm_fb: clean up code which does not comply with linux coding standard
  * msm_fb: add timeout during mddi wait
  * msm_fb: Add AXI bus QoS API calls in pull drivers.
  * msm_fb: add MDP4 features into existing MDP driver
  * msm_fb: tvout frame done bug fix
  * msm_fb: remove the notch filter in tv encoder
  * msm_fb: set AXI bus frequency to default after lcdc/tvenc turns off.
  * msm_fb: disable mdp irq during idle
  * msm_fb: turn ON FFA Display after Bootup
  * msm_fb: Add Toshiba WEGA initialization for msm7x30
  * msm_fb: mdp4: Add support for 128 MHz AXI bus
  * msm_fb: 8650 FFA suspend/resume display bug fix
  * msm_fb: move mddi power save under on/off routine
  * msm_fb: fix lcdc ystride value
  * msm_fb: add sharpening support for non-scaled image
  * msm_fb: add MDP_BLUR support
  * msm_fb: cleanup Makefile to use CONFIGs directly
  * msm_fb: add S-video option to tv output
  * msm_fb: Support for dynamically changing mdp ccs matrix.
  * msm_fb: turn off mddi power when there is no mddi panel
  * msm_fb: disable mddi host timer under suspend
  * msm_fb: Reduce AXI bus frequency to 62 Mhz from 128 Mhz
  * msm_fb: add mdp4 lcdc feature
  * msm_fb: add display panel auto detection
  * msm_fb: remove msm_rpc calls for LCDC_PROC configuration.
  * msm_fb: Add support for pclks
  * msm_fb: Reduce AXI bus frequency to 58 Mhz from 64 Mhz.
  * msm_fb: fix display panel driver auto detection error
  * msm_fb: fix dependencies when disabling pmem
  * msm_fb: increase brightness of Toshiba wvga display panel
  * msm_fb: mddi toshiba init routine bug fix
  * msm_fb: enable mdp hw vsync
  * msm_fb: Added frame_count to debugfs dir
  * msm_fb: store the actual lcdc clock rate
  * Revert "msm_fb: store the actual lcdc clock rate"
  * Revert "msm_fb: remove msm_rpc calls for LCDC_PROC configuration."
  * msm_fb: add MDP4 RGB pipe as overlay base layer
  * msm_fb: use driver specific Kconfig
  * msm_fb: add grapefruit framebuffer support
  * msm: separate grapefruit function by machine type
  * msm_fb: Add wxga drive for ST1 panel
  * msm_fb: correct porch values for ST1 WXGA display
  * msm_fb: correct external WXGA name in Kconfig
  * msm: qsd8x50: update pmem region to bitmap
  * msm: qsd8x50: check pmem size.
  * msm: Allow the size of the in-kernel PMEM region to be configured.
  * msm: msm_fb: add msm framebuffer support
  * smsc911x: Add Ethernet support for ST1
  * msm: Extend datamover callback infrastructure
  * msm: dma: Export flush/stop commands.
  * mmc: block: extend support for more than 8 partitions
  * mmc: mmcblk: Add new feature 'CONFIG_MMC_BLOCK_PARANOID_RESUME'
  * PM: Add wake lock api.
  * mmc: core: Hold a wake lock accross delayed work + mmc rescan
  * mmc: Add status IRQ and status callback function to mmc platform data
  * mmc: Add concept of an 'embedded' SDIO device.
  * mmc: core: Add auto suspend functionality
  * mmc: core: Accept EXT_CSD revision upto 1.5
  * mmc: core: Add 1ms delay after sending CMD6 to MMC cards.
  * mmc: sd: Add new CONFIG_MMC_PARANOID_SD_INIT for enabling retries during SD detection
  * mmc: sd: Add retries in re-detection
  * mmc: sd: When resuming, try a little harder to init the card
  * mmc: sd: Remove debugging printk
  * mmc: Add new API call 'sdio_reset_comm' for resetting communication with an SDIO device
  * sdio: fix sdio_reset_comm() error path
  * mmc: core: Decrease minimum length requirements for SDIO CIS_FUNCE
  * trout: Add functions for WiFi Signed-off-by: David Brown <davidb@quicinc.com>
  * msm_sdcc: Initial port of Qualcomm MSM MMC driver.
  * PM: Add early suspend api.
  * msm: sdcc: Add support for write protect switch detection.
  * arm: Add machine id for ST 1.5.
  * usb: Add platform data for mass storage function.
  * msm: mfd/tps65023 header.
  * BMA150 platform data.
  * Device data for MSM hsusb devices.
  * Device data for MSM high-speed uarts.
  * Device data for MSM camera drivers.
  * Device data for MSM SPI drivers.
  * Device data for MSM s1r72v05 driver.
  * Device data for MSM TSIF driver.
  * Device data for MSM battery driver.
  * Device data for MSM kgsl driver.
  * Device data for MSM boardfile support.
  * Add internal mach-types definitions for 8650A targets.
  * msm: Reset callback for I2C keyboard.
  * msm: Refactor SMD driver. debug interface, separate channel list.
  * msm: Add SMEM_SEFS_INFO smem item
  * msm: qsd8x50 platform data updates.
  * [ARM] msm: driver for MSM7X00A on-chip I2C controller.
  * [ARM] msm: I2C: Send stop command to finish i2c transfer on timeout
  * [ARM] msm: i2c: Try to read the requested number of bytes.
  * [ARM] msm: i2c: Try to recover if the i2c bus is busy after a failed transfer.
  * msm: i2c: add msm_set_i2c_mux function
  * [ARM] msm: i2c: Perform entire i2c transfer at interrupt context.
  * [ARM] msm: i2c: Prevent infinite reads.
  * [ARM] msm: i2c: Improve error recovery
  * [ARM] msm: i2c: Always read at least two bytes
  * [ARM] msm: i2c: Only send STOP for last for the last write message in the group.
  * [ARM] msm: i2c: Send another byte if we are still the bus master in msm_i2c_recover_bus_busy.
  * i2c-msm changes from the initial contribution.
  * [ARM] msm: i2c: Don't send STOP between write and read operations
  * [ARM] msm: i2c: Configure I2C GPIOs from Linux side
  * [ARM] msm_i2c: Fix Last Byte issues while reading.
  * i2c_msm: Derive PRI and AUX interface numbers from adapter ID
  * msm_i2c: Add multi-processor concurrency support for I2C driver.
  * msm_i2c: Recovery function to recover from unexpected HW errors
  * msm_i2c: Add I2C Auxiliary interface.
  * msm: remote-spinlock: Add support for DAL remote spinlocks.
  * msm: remote-spinlock: Use Dekker's Algorithm for 7x30 SoCs.
  * msm: remote-spinlock: Fix Dekker's algorithm.
  * remote_spinlock: Add trylock support for remote spin locks.
  * remote_spinlock: Add remote mutex support.
  * msm: irq: rename existing irq support to irq-vic
  * msm: remote-spinlock: Add 'MSM' prefix to REMOTE_SPINLOCK_* Kconfigs.
  * msm: Compilation fixes
  * Rest of the IRQ code refactoring.
  * msm: io: Extend HWIO area to cover EBI2 CS[67]
  * msm_i2c: Use less restrictive inter-processor remote mutex locks
  * msm_i2c: Workaround for hardware setup time issue.
  * msm_i2c: I2C controller should be in receive-data state during reads.
  * msm: sirc: Add support for 8x50A interrupts.
  * smsc911x: Add Ethernet support for ST1
  * msm: st1: Add experimental flag.
  * msm: timer: halt when Modem fails to respond to time sync
  * mddi: Add barriers for coherent memory accesses
  * Update to latest MSM framebuffer driver.
  * dma: barrier api for coherent memory before and after dma
  * defconfig: Initial ST1 defconfig.
  * msm_fb: add MSMFB_OVERLAY_GET ioctl
  * msm_fb: Added data packet size option in mddi_host_register_write
  * msm: Change type of msm_shared_ram_phys to 'unsigned int'.
  * pmem: Add In-Kernel API for handling cache operations
  * add Node Power Architecture (NPA) support
  * PM: NPA should be off by default
  * pmem: Fix Bitmap allocator to allocate the final bit for the device
  * msm: board-qsd8x50: Support shared memory (SMI) for QSD8x50A.
  * msm_fb: align height of 64X32 video tile format to 32 instead of 64
  * msm_fb: Add configuration of background transparent color key
  * msm: board-qsd8x50: Modify the check for Write Protect switch support.
  * msm: Kconfig: Add SoC revision config parameter.
  * msm: Introduce QSD8x50A Kconfig options.
  * msm: Enable MMU corner case fixes only for 8x50 and not 8x50a.
  * msm_fb:  Fix two MDP flags with the same value
  * msm: Add board support for ST 1.5.
  * msm: board: Fix SDCC VREG assignments for ST 1.5.
  * qsd8x50:  Allow the size of the in-kernel PMEM region to be configured
  * msm: Fix Kconfig to prevent building MACH_QSD8X50_ST1 for QSD8x50A.
  * msm_fb: Add display driver for ST1.5
  * msm: add platform support for ST1.5 display
  * msm: Remove unused file 'keypad-surf-ffa.h'.
  * mmc: msm_sdcc: Fix sdcc resume sequence
  * mmc: msm_sdcc: Eliminate forced reset of SD controller port
  * mmc: core: Add support for MMC cards with CSD structure revision 3.
  * msm: acpuclock-8x50: Fix ACPU frequency detection when running off AXI.
  * defconfig: Add initial ST 1.5 defconfig.
  * KSAPI: Performance monitoring tool for Snapdragon linux
  * msm: board-qsd8x50: Add Ethernet support for ST 1.5.
  * msm: board-qsd8x50: Register ST 1.5 I2C devices.
  * msm: configure and set the gpios as per the platform
  * msm: acpuclock-8x50a: Add QSD8x50A ACPU frequency scaling driver.
  * defconfig: Enable CPUFreq for ST 1.5.
  * defconfig: automatic update
  * defconfig: Choose the correct LCDC panel for ST 1.5.
  * defconfig: Disable AVS and update default ACPU voltage to 1300mV for ST1
  * defconfig: automatic update
  * [ARM] msm: handset: Merge msm_handset driver into rpc_server_handset
  * switch: port switch class and GPIO drivers from 2.6.29.
  * msm: handset: Add support to report headset status to modem
  * defconfig: Enable switch class for ST1.0.
  * msm: Select kernel PHYS_OFFSET based on ARCH_* Kconfigs.
  * msm: Makefile.boot: Select linker parameters based ARCH_* Kconfigs.
  * msm: Makefile.boot: Add support for QSD8x50A.
  * msm: socinfo: Add SoC IDs and cpu_is_qsd8x50a() function for QSD8x50A.
  * msm: Set default QSD8x50A PHYS_OFFSET Kconfig.
  * defconfig: autoupdate
  * add msm_audio_aac.h
  * msm: audio: enable audio in the makefile
  * qdsp6: Replace existing 3.0 VDEC drivers with 2.0 VDEC drivers
  * qdsp6: Replace 720P 2.0 video encoder with 1.0 driver
  * qdsp6: Replace existing 3.1 audio drivers with 3.2 CAD drivers
  * sound: soc: add msm alsa support
  * alsa: soc: Fix the uninitialized usage of mutex
  * msm8k_audio: Use a mute_info struct to pass path and mute info.
  * alsa: soc: Remove pause before closing cad session.
  * alsa: soc: Port alsa driver to kernel-2.6.29
  * alsa: soc: Port alsa 8k driver to kernel-2.6.29
  * alsa: soc: Support continuous range of sampling rates in qsd8k
  * alsa: soc: 7k: Fix to connect snd endpoint once during init
  * alsa: soc: 8k: Fix to stream volume control
  * [ARM]: msm: Apply new MSM naming scheme
  * alsa: soc: 8k: Fix to alsa playback and capture concurrency
  * alsa: soc: 8k: Add volume caching support.
  * alsa: soc: 8k: Modify MUTE control to support playback/Capture path
  * alsa: soc: 7k: Ensure that buffer size is a multiple of period size
  * alsa: soc: 8k: Ensure that buffer size is a multiple of period size
  * alsa: soc: 7k: Fix to initial bit stream configuration passed to DSP.
  * alsa: soc: 7k: Fix to max dB value permissible for volume control.
  * alsa: soc: 8k: Add device volume control support for RX/TX path.
  * alsa: soc: 8k: Remove stream volume update for TX path.
  * alsa: soc: 8k: Add EOS support in playback
  * alsa: soc: 7k: Add EOS support in playback
  * alsa: soc: 8k: Initialize default values to volume and device settings
  * alsa: soc: 8k: Remove unwanted check of device list support.
  * alsa: soc: 8k: Fix underrun errors in alsa concurrent playback record.
  * alsa: soc: 8k: Fix to ensure graceful exit if not yet enabled.
  * alsa: soc: 7k: Fix to ensure graceful exit if not yet enabled.
  * sound: msm-soc: add missing newlines to some printk()'s
  * alsa: soc: Fix to include correct header file.
  * msm: audio: 8k: Q6 API change
  * pmem: fix dependencies when disabling pmem
  * alsa: soc: msm: routing amixer controls for audio playback/voice
  * alsa: 7x30: Fix the extra new line added to device name.
  * msm: audio: 7x30: Update the audpp commands with correct parameters
  * alsa: soc: 8k: Fix to avoid I/O error due to early stream start
  * alsa: soc: Add support for multisession playbacks.
  * alsa: soc: msm7x30: Fix for blocked voice call thread
  * audio: 7x30: Add listener code to mixer interface
  * audio: 7x30: Increase sound device list size
  * alsa: soc: msm7x30: ASoc driver for pcm playback/capture
  * alsa: mixer: snd device dynamic frequency change support
  * alsa: soc: 8x50: new framework with dual interrupt sources
  * sound: soc: msm: a few updates for 2.6.31
  * msm: qsd8x50 defconfig: enable audio
  * msm: usb: Add rpc calls for USB control.
  * USB: EHCI: Qualcomm MSM USB EHCI driver.
  * defconfig: Enable Qualcomm EHCI device on st1.5
  * msm: Update hsusb RPC
  * USB: MSM OTG support.
  * defconfig: Enable USB OTG
  * msm: put ST1.5 framebuffer back in SMI
  * mmc: msm_sdcc: reset the controller in case of data CRC error
  * mmc: Handle requests properly when block queue is plugged
  * net: add support to supress random MAC address generation in smsc911x
  * usb: msm_otg: sysfs support to switch between host & peripheral
  * defconfig: Enable EHCI_ROOT_HUB_TT
  * diag: Qualcomm SOC diagnostics driver.
  * mm: dma_cache operations for non linearly mapped buffers
  * drivers: char: msm video drivers
  * drm: Add support for platform devices to register as DRM devices
  * msm_kgsl:  Add DRM support
  * msm_kgsl: add grp_pclk handling
  * msm_kgsl: report rev 2.1.1 instead of 2.1 due to hardware bug
  * msm_kgsl: Vote for the maximum AXI bus speed
  * Revert "msm_kgsl: Vote for the maximum AXI bus speed"
  * msm_kgsl: Vote for maximum AXI bus speed
  * DRM:  Initalize the DRM device list
  * DRM:  Use platform appropriate indexes for the GEM fake mmap offset
  * msm_kgsl: Bypass SQ RTR for host accesses.
  * msm_kgsl:  Add GEM support to the DRM device
  * msm_kgsl: Multi context bug fix
  * msm: kgsl: Power savings through GPU clock control
  * msm_kgsl: Fix a double free and prevent errors when freeing null gpuaddr
  * msm_kgsl: Increase maximum virtual address range to 256MB
  * msm_kgsl:  Add GEM support to the DRM device
  * drm: msm_kgsl: memory allocation changes
  * msm_fb: char: enable MDP blit from GEM
  * msm_kgsl:  Put back the file descriptor in kgsl_gem_obj_addr
  * msm_kgsl: Add multi-context and cmdstream handling fixes
  * Revert "msm_kgsl: Increase maximum virtual address range to 256MB"
  * msm_kgsl: save gmem based on correct use of flags
  * msm: kgsl: Remove AXI vote when the GPU is idle
  * msm: kgsl: Increase idle timeout counter
  * gpu: drm: Fix compile error
  * msm: kgsl: Disable IRQ when GPU is idle
  * msm_kgsl: Properly restore the bin base offset on context switches
  * kgsl: Change sequence of clock calls to fix boot up issue on some 7x30s.
  * msm_kgsl: Add graphics MMU support
  * msm_kgsl: Set correct values for PM4_DRAW_INDX_BIN and PM4_DRAW_INDX_2_BIN
  * msm_kgsl: Fixes multicontext screen corruption issue
  * msm_kgsl: Add outer cache flushing if it exists.
  * drm: Add drm_vm_close_locked()
  * msm_kgsl:  Move kgsl_sharedmem_init to module load
  * msm_kgsl:  Add generic pagetable allocation functions
  * msm_kgsl: Enable GEM to allocate memory from different sources
  * msm_kgsl: Add GPU bind and unbind ioctls
  * msm_kgsl:  Flush cached buffers in GEM
  * msm: kgsl: Call kgsl_yamato_runpending before allocating memory.
  * msm_kgsl: Do not wait for the REG_CP_RB_WPTR to be updated
  * msm_kgsl: Disable shadow writes
  * kgsl: add barriers for pmem noncached changed to Normal
  * msm_kgsl:  Only allow MDP blitting from from PMEM
  * drm:  Use kzalloc() where appropriate in platform init
  * msm_kgsl: Map all memory allocations through the MMU
  * msm_q6venc: enable cache for 8k video encoder
  * kgsl: trivial compile fixes
  * msm: defconfig: qsd8650 st1 turn on graphics support
  * msm:  Make the GPU0 PMEM region optional
  * msm:  Add in-kernel SMI PMEM region
  * msm_kgsl:  Clean up memory when timestamps are freed
  * msm_kgsl:  Allow greater control over GEM memory types
  * msm: drm: couple stray bit removed to compile
  * msm_kgsl: fix module init call for builtin
  * defconfig: autoupdate
  * defconfig: Enable kgsl for st1.5
  * msm: fix warnings introduced in gcc 4.4.0
  * Update an ARM config file for the kernel ebuild.
  * Update the ARM config file to support USB. This gets USB keyboard and mouse working in the 2.6.31.12 kernel.
  * Add the msm_mdp.h file to the list of headers to be installed.
  * Rename config to match naming convention.
  * Properly generate the splitconfig files for 2.6.31.12.
  * sync config files with master branch (cherry picked from commit 63b8ab7a6a0caa25ddf433c8599328793076506f)

  [ Tim Gardner ]

  * UBUNTU: [Config] qcm-msm branch creation
    Based initial configuration from arch/arm/configs/qsd8650a-st1_5_defconfig

 --  Tim Gardner <tim.gardner@canonical.com>  Wed, 17 Feb 2010 11:22:10 -0700

linux-qcm-msm (2.6.31-800.0) lucid; urgency=low

  * Initial branch creation

 --  Tim Gardner <tim.gardner@canonical.com>  Wed, 17 Feb 2010 11:22:04 -0700

linux (2.6.31-20.57) karmic-proposed; urgency=low

  [ Kees Cook ]

  * SAUCE: x86: brk away from exec rand area
    - LP: #452175

  [ Keng-Yu Lin ]

  * SAUCE: (drop after 2.6.31) input: Add hotkey quirk for Samsung
    Q210/P210 laptops
    - LP: #385683

  [ Pascal Bach ]

  * SAUCE: (drop after 2.6.31) input: Add hotkey quirk for Fujitsu Amilo
    1848+u
    - LP: #458503

  [ Stefan Bader ]

  * Revert "[Upstream] (drop after 2.6.31) acerhdf: fix fan control for
    AOA150 model"
    - LP: #494633
  * [Config] Disable CONFIG_USB_DEVICEFS
    - LP: #488274

  [ Upstream Kernel Changes ]

  * Revert "ext4: Don't update superblock write time when filesystem is
    read-only"
    - LP: #496816
  * Revert "ide: try to use PIO Mode 0 during probe if possible"
    - LP: #503430
  * Revert "isdn: isdn_ppp: Use SKB list facilities instead of home-grown
    implementation."
    - LP: #503430
  * nilfs2: fix kernel oops in error case of nilfs_ioctl_move_blocks
    - LP: #494633
  * cifs: don't use CIFSGetSrvInodeNumber in is_path_accessible
    - LP: #494633
  * cifs: clean up handling when server doesn't consistently support inode
    numbers
    - LP: #494633
  * cifs: clear server inode number flag while autodisabling
    - LP: #494633
  * CIFS: fix oops in cifs_lookup during net boot
    - LP: #494633
  * CIFS: Duplicate data on appending to some Samba servers
    - LP: #494633
  * rtl8187: Fix kernel oops when device is removed when LEDS enabled
    - LP: #494633
  * md: don't clear endpoint for resync when resync is interrupted.
    - LP: #494633
  * md/raid5: make sure curr_sync_completes is uptodate when reshape starts
    - LP: #494633
  * md/raid1/raid10: add a cond_resched
    - LP: #494633
  * ALSA: usb-audio: fix combine_word problem
    - LP: #494633
  * ALSA: hda - Dell Studio 1557 hd-audio quirk
    - LP: #494633
  * ALSA: AACI: fix AC97 multiple-open bug
    - LP: #494633
  * ALSA: AACI: fix recording bug
    - LP: #494633
  * jffs2: Fix memory corruption in jffs2_read_inode_range()
    - LP: #494633
  * sound: rawmidi: disable active-sensing-on-close by default
    - LP: #494633
  * sound: rawmidi: fix checking of O_APPEND when opening MIDI device
    - LP: #494633
  * sound: rawmidi: fix double init when opening MIDI device with O_APPEND
    - LP: #494633
  * sound: rawmidi: fix MIDI device O_APPEND error handling
    - LP: #494633
  * highmem: Fix race in debug_kmap_atomic() which could cause warn_count
    to underflow
    - LP: #494633
  * highmem: Fix debug_kmap_atomic() to also handle KM_IRQ_PTE, KM_NMI, and
    KM_NMI_PTE
    - LP: #494633
  * powerpc: Fix DEBUG_HIGHMEM build break from d4515646699
    - LP: #494633
  * kmap: fix build errors with DEBUG_HIGHMEM enabled
    - LP: #494633
  * V4L/DVB (13169): bttv: Fix potential out-of-order field processing
    - LP: #494633
  * V4L/DVB (13170): bttv: Fix reversed polarity error when switching video
    standard
    - LP: #494633
  * V4L/DVB (13109): tda18271: fix signedness issue in
    tda18271_rf_tracking_filters_init
    - LP: #494633
  * V4L/DVB (13107): tda18271: fix overflow in FM radio frequency
    calculation
    - LP: #494633
  * V4L/DVB (13190): em28xx: fix panic that can occur when starting audio
    streaming
    - LP: #494633
  * V4L/DVB (13079): dib0700: fixed xc2028 firmware loading kernel oops
    - LP: #494633
  * V4L/DVB (13230): s2255drv: Don't conditionalize video buffer completion
    on waiting processes
    - LP: #494633
  * uids: Prevent tear down race
    - LP: #494633
  * pps: events reporting fix up
    - LP: #494633
  * pps: locking scheme fix up for PPS_GETPARAMS
    - LP: #494633
  * rtc: v3020: fix v3020_mmio_read_bit()
    - LP: #494633
  * fs: add missing compat_ptr handling for FS_IOC_RESVSP ioctl
    - LP: #494633
  * memcg: fix wrong pointer initialization at page migration when memcg is
    disabled.
    - LP: #494633
  * pidns: fix a leak in /proc dentries and inodes with pid namespaces.
    - LP: #494633
  * page allocator: Do not allow interrupts to use ALLOC_HARDER
    - LP: #494633
  * page allocator: always wake kswapd when restarting an allocation
    attempt after direct reclaim failed
    - LP: #494633
  * tty_port: If we are opened non blocking we still need to raise the
    carrier
    - LP: #494633
  * tty: cp210x: Fix carrier handling
    - LP: #494633
  * USB: ohci: quirk AMD prefetch for USB 1.1 ISO transfer
    - LP: #494633
  * USB: usbmon: fix bug in mon_buff_area_shrink
    - LP: #494633
  * USB: option.c: add support for D-Link DWM-162-U5
    - LP: #494633
  * USB: cdc_acm: Fix race condition when opening tty
    - LP: #494633
  * USB: xhci: Fix bug memory free after failed initialization.
    - LP: #494633
  * USB: xhci: Fix TRB physical to virtual address translation.
    - LP: #494633
  * USB: xhci: Fix scratchpad deallocation.
    - LP: #494633
  * iwlwifi: Use RTS/CTS as the preferred protection mechanism for 6000
    series
    - LP: #494633
  * iwlwifi: Fix issue on file transfer stalled in HT mode
    - LP: #494633
  * ima: replace GFP_KERNEL with GFP_NOFS
    - LP: #494633
  * NFSv4: Fix a cache validation bug which causes getcwd() to return
    ENOENT
    - LP: #494633
  * fuse: reject O_DIRECT flag also in fuse_create
    - LP: #494633
  * ASoC: Fix suspend with active audio streams
    - LP: #494633
  * ASoC: AIC23: Fixing infinite loop in resume path
    - LP: #494633
  * b43: Work around mac80211 race condition
    - LP: #494633
  * rfkill: fix miscdev ops
    - LP: #494633
  * thinkpad-acpi: fix sign of ERESTARTSYS return
    - LP: #494633
  * Enable ACPI PDC handshake for VIA/Centaur CPUs
    - LP: #494633
  * V4L/DVB (13436): cxusb: Fix hang on DViCO FusionHDTV DVB-T Dual Digital
    4 (rev 1)
    - LP: #494633
  * V4L/DVB (13321): radio-gemtek-pci: fix double mutex_lock
    - LP: #494633
  * V4L/DVB (12948): v4l1-compat: fix VIDIOC_G_STD handling
    - LP: #494633
  * V4L/DVB (12280): gspca - sonixj: Remove auto gain/wb/expo for the
    ov7660 sensor.
    - LP: #494633
  * V4L/DVB (12356): gspca - sonixj: Webcam 0c45:6148 added
    - LP: #494633
  * V4L/DVB (12501): gspca - sonixj: Do the ov7660 sensor work again.
    - LP: #494633
  * V4L/DVB (12691): gspca - sonixj: Don't use mdelay().
    - LP: #494633
  * V4L/DVB (12696): gspca - sonixj / sn9c102: Two drivers for 0c45:60fc
    and 0c45:613e.
    - LP: #494633
  * drm/i915: Select CONFIG_SHMEM
    - LP: #494633
  * drm: work around EDIDs with bad htotal/vtotal values
    - LP: #494633, #460664
  * drm/i915: Fix IRQ stall issue on Ironlake
    - LP: #494633
  * udp: Fix udp_poll() and ioctl()
    - LP: #494633
  * acenic: Pass up error code from ace_load_firmware()
    - LP: #494633
  * pkt_sched: pedit use proper struct
    - LP: #494633
  * net: fix sk_forward_alloc corruption
    - LP: #494633
  * bonding: Modify hash transmit policies to use the packet's source MAC
    address
    - LP: #494633
  * sfc: Set ip_summed correctly for page buffers passed to GRO
    - LP: #494633
  * sparc64: replace parentheses in pmul()
    - LP: #494633
  * sparc: Move of_set_property_mutex acquisition outside of devtree_lock
    grab.
    - LP: #494633
  * sched: Fix boot crash by zalloc()ing most of the cpu masks
    - LP: #494633
  * sched: Fix isolcpus boot option
    - LP: #494633
  * V4L/DVB (13202): smsusb: add autodetection support for three additional
    Hauppauge USB IDs
    - LP: #494633
  * V4L/DVB (13313): saa7134: add support for FORCE_TS_VALID mode for mpeg
    ts input
    - LP: #494633
  * V4L/DVB (13314): saa7134: set ts_force_val for the Hauppauge WinTV
    HVR-1150
    - LP: #494633
  * speedstep-ich: fix error caused by
    394122ab144dae4b276d74644a2f11c44a60ac5c
    - LP: #494633
  * USB: EHCI: don't send Clear-TT-Buffer following a STALL
    - LP: #494633
  * USB: musb_gadget: fix STALL handling
    - LP: #494633
  * usb: amd5536udc: fixed shared interrupt bug and warning oops
    - LP: #494633
  * USB: ftdi_sio: Keep going when write errors are encountered.
    - LP: #494633
  * USB: work around for EHCI with quirky periodic schedules
    - LP: #435352, #494633
  * tty_port: handle the nonblocking open of a dead port corner case
    - LP: #494633
  * pxamci: call mmc_remove_host() before freeing resources
    - LP: #494633
  * param: don't complain about unused module parameters.
    - LP: #494633
  * modules: don't export section names of empty sections via sysfs
    - LP: #494633
  * md: revert incorrect fix for read error handling in raid1.
    - LP: #494633
  * perf_event: Adjust frequency and unthrottle for non-group-leader events
    - LP: #494633
  * hso: fix soft-lockup
    - LP: #494633
  * block: use after free bug in __blkdev_get
    - LP: #494633
  * hwmon: (adt7475) Fix temperature fault flags
    - LP: #494633
  * hwmon: (adt7475) Cache limits for 60 seconds
    - LP: #494633
  * agp/intel: new host bridge support
    - LP: #494633
  * netfilter: nf_nat: fix NAT issue in 2.6.30.4+
    - LP: #494633
  * netfilter: xt_connlimit: fix regression caused by zero family value
    - LP: #494633
  * b43: Fix DMA TX bounce buffer copying
    - LP: #494633
  * crypto: padlock-aes - Use the correct mask when checking whether
    copying is required
    - LP: #494633
  * sky2: set carrier off in probe
    - LP: #494633
  * ath5k: Linear PCDAC code fixes
    - LP: #494633
  * i2c: Fix userspace_device list corruption
    - LP: #494633
  * acerhdf: fix fan control for AOA150 model
    - LP: #494633
  * drm/fb: fix FBIOGET/PUT_VSCREENINFO pixel clock handling
    - LP: #494633
  * tty/of_serial: add missing ns16550a id
    - LP: #494633
  * V4L/DVB (13255): gspca - m5602-s5k4aa: Add vflip quirk for the
    Bruneinit laptop
    - LP: #494633
  * V4L/DVB (13256): gspca - m5602-s5k4aa: Add another MSI GX700 vflip
    quirk
    - LP: #494633
  * V4L/DVB (13257): gspca - m5602-s5k4aa: Add vflip for Fujitsu Amilo Xi
    2528
    - LP: #494633
  * PCI: Prevent AER driver from being loaded on non-root port PCIE devices
    - LP: #494633
  * acerhdf: additional BIOS versions
    - LP: #494633
  * acerhdf: return temperature in milidegree instead of degree
    - LP: #494633
  * Input: keyboard - fix braille keyboard keysym generation
    - LP: #494633
  * Linux 2.6.31.7
    - LP: #494633
  * ext4: Fix memory leak fix when mounting an ext4 filesystem
    - LP: #496816
  * jbd2: Fail to load a journal if it is too short
    - LP: #496816
  * jbd2: round commit timer up to avoid uncommitted transaction
    - LP: #496816
  * ext4: fix journal ref count in move_extent_par_page
    - LP: #496816
  * ext4: Fix bugs in mballoc's stream allocation mode
    - LP: #496816
  * ext4: Avoid group preallocation for closed files
    - LP: #496816
  * jbd2: Annotate transaction start also for jbd2_journal_restart()
    - LP: #496816
  * ext4: Fix possible deadlock between ext4_truncate() and
    ext4_get_blocks()
    - LP: #496816
  * ext4: reject too-large filesystems on 32-bit kernels
    - LP: #496816
  * ext4: Add feature set check helper for mount & remount paths
    - LP: #496816
  * ext4: Add missing unlock_new_inode() call in extent migration code
    - LP: #496816
  * ext4: Allow rename to create more than EXT4_LINK_MAX subdirectories
    - LP: #496816
  * ext4: Limit number of links that can be created by ext4_link()
    - LP: #496816
  * ext4: Restore wbc->range_start in ext4_da_writepages()
    - LP: #496816
  * ext4: fix cache flush in ext4_sync_file
    - LP: #496816
  * ext4: Fix wrong comparisons in mext_check_arguments()
    - LP: #496816
  * ext4: Remove unneeded BUG_ON() in ext4_move_extents()
    - LP: #496816
  * ext4: Return exchanged blocks count to user space in failure
    - LP: #496816
  * ext4: Take page lock before looking at attached buffer_heads flags
    - LP: #496816
  * ext4: print more sysadmin-friendly message in check_block_validity()
    - LP: #496816
  * ext4: Use bforget() in no journal mode for
    ext4_journal_{forget,revoke}()
    - LP: #496816
  * ext4: Assure that metadata blocks are written during fsync in no
    journal mode
    - LP: #496816
  * ext4: Make non-journal fsync work properly
    - LP: #496816
  * ext4: move ext4_mb_init_group() function earlier in the mballoc.c
    - LP: #496816
  * ext4: check for need init flag in ext4_mb_load_buddy
    - LP: #496816
  * ext4: Don't update superblock write time when filesystem is read-only
    - LP: #496816
  * ext4: Always set dx_node's fake_dirent explicitly.
    - LP: #496816
  * ext4: Fix initalization of s_flex_groups
    - LP: #496816
  * ext4: Fix include/trace/events/ext4.h to work with Systemtap
    - LP: #496816
  * ext4: Fix small typo for move_extent_per_page()
    - LP: #496816
  * ext4: Replace get_ext_path macro with an inline funciton
    - LP: #496816
  * ext4: Replace BUG_ON() with ext4_error() in move_extents.c
    - LP: #496816
  * ext4: Add null extent check to ext_get_path
    - LP: #496816
  * ext4: Fix different block exchange issue in EXT4_IOC_MOVE_EXT
    - LP: #496816
  * ext4: limit block allocations for indirect-block files to < 2^32
    - LP: #496816
  * ext4: store EXT4_EXT_MIGRATE in i_state instead of i_flags
    - LP: #496816
  * ext4: Fix the alloc on close after a truncate hueristic
    - LP: #496816
  * ext4: Fix hueristic which avoids group preallocation for closed files
    - LP: #496816
  * ext4: Adjust ext4_da_writepages() to write out larger contiguous chunks
    - LP: #496816
  * ext4: release reserved quota when block reservation for delalloc retry
    - LP: #496816
  * ext4: Split uninitialized extents for direct I/O
    - LP: #496816
  * ext4: Use end_io callback to avoid direct I/O fallback to buffered I/O
    - LP: #496816
  * ext4: async direct IO for holes and fallocate support
    - LP: #496816
  * ext4: EXT4_IOC_MOVE_EXT: Check for different original and donor inodes
    first
    - LP: #496816
  * ext4: Avoid updating the inode table bh twice in no journal mode
    - LP: #496816
  * ext4: Make sure ext4_dirty_inode() updates the inode in no journal mode
    - LP: #496816
  * ext4: Handle nested ext4_journal_start/stop calls without a journal
    - LP: #496816
  * ext4: Fix time encoding with extra epoch bits
    - LP: #496816
  * ext4: fix a BUG_ON crash by checking that page has buffers attached to
    it
    - LP: #496816
  * ext4: retry failed direct IO allocations
    - LP: #496816
  * ext4: discard preallocation when restarting a transaction during
    truncate
    - LP: #496816
  * ext4: fix ext4_ext_direct_IO()'s return value after converting uninit
    extents
    - LP: #496816
  * ext4: skip conversion of uninit extents after direct IO if there isn't
    any
    - LP: #496816
  * ext4: code clean up for dio fallocate handling
    - LP: #496816
  * ext4: Fix return value of ext4_split_unwritten_extents() to fix direct
    I/O
    - LP: #496816
  * ext4: fix potential buffer head leak when add_dirent_to_buf() returns
    ENOSPC
    - LP: #496816
  * ext4: avoid divide by zero when trying to mount a corrupted file system
    - LP: #496816
  * ext4: fix the returned block count if EXT4_IOC_MOVE_EXT fails
    - LP: #496816
  * ext4: fix lock order problem in ext4_move_extents()
    - LP: #496816
  * ext4: fix possible recursive locking warning in EXT4_IOC_MOVE_EXT
    - LP: #496816
  * ext4: plug a buffer_head leak in an error path of ext4_iget()
    - LP: #496816
  * ext4: make sure directory and symlink blocks are revoked
    - LP: #496816
  * ext4: fix i_flags access in ext4_da_writepages_trans_blocks()
    - LP: #496816
  * ext4: journal all modifications in ext4_xattr_set_handle
    - LP: #496816
  * ext4: don't update the superblock in ext4_statfs()
    - LP: #496816
  * ext4: fix uninit block bitmap initialization when s_meta_first_bg is
    non-zero
    - LP: #496816
  * ext4: fix block validity checks so they work correctly with meta_bg
    - LP: #496816
  * ext4: avoid issuing unnecessary barriers
    - LP: #496816
  * ext4: fix error handling in ext4_ind_get_blocks()
    - LP: #496816
  * ext4: make trim/discard optional (and off by default)
    - LP: #496816
  * ext4: make "norecovery" an alias for "noload"
    - LP: #496816
  * ext4: Fix double-free of blocks with EXT4_IOC_MOVE_EXT
    - LP: #496816
  * ext4: initialize moved_len before calling ext4_move_extents()
    - LP: #496816
  * ext4: move_extent_per_page() cleanup
    - LP: #496816
  * jbd2: Add ENOMEM checking in and for
    jbd2_journal_write_metadata_buffer()
    - LP: #496816
  * ext4: Return the PTR_ERR of the correct pointer in
    setup_new_group_blocks()
    - LP: #496816
  * ext4: Avoid data / filesystem corruption when write fails to copy data
    - LP: #496816
  * ext4: wait for log to commit when umounting
    - LP: #496816
  * ext4: remove blocks from inode prealloc list on failure
    - LP: #496816
  * ext4: ext4_get_reserved_space() must return bytes instead of blocks
    - LP: #496816
  * ext4: quota macros cleanup
    - LP: #496816
  * ext4: fix incorrect block reservation on quota transfer.
    - LP: #496816
  * ext4: Wait for proper transaction commit on fsync
    - LP: #496816
  * SCSI: megaraid_sas: fix 64 bit sense pointer truncation
    - LP: #496816
  * SCSI: osd_protocol.h: Add missing #include
    - LP: #496816
  * SCSI: scsi_lib_dma: fix bug with dma maps on nested scsi objects
    - LP: #496816
  * signal: Fix alternate signal stack check
    - LP: #496816
  * ext4: Fix potential fiemap deadlock (mmap_sem vs. i_data_sem)
    - LP: #496816
  * Linux 2.6.31.8
    - LP: #496816
  * USB: option: add pid for ZTE
    - LP: #503430
  * USB: usb-storage: fix bug in fill_inquiry
    - LP: #503430
  * firewire: ohci: handle receive packets with a data length of zero
    - LP: #503430
  * ALSA: hda - Terradici HDA controllers does not support 64-bit mode
    - LP: #503430
  * ALSA: hrtimer - Fix lock-up
    - LP: #503430
  * ath5k: allow setting txpower to 0
    - LP: #503430
  * ath5k: enable EEPROM checksum check
    - LP: #503430
  * bsdacct: fix uid/gid misreporting
    - LP: #503430
  * debugfs: fix create mutex racy fops and private data
    - LP: #503430
  * devpts_get_tty() should validate inode
    - LP: #503430
  * futex: Take mmap_sem for get_user_pages in fault_in_user_writeable
    - LP: #503430
  * hfs: fix a potential buffer overflow
    - LP: #503430
  * hrtimer: Fix /proc/timer_list regression
    - LP: #503430
  * jbd2: don't wipe the journal on a failed journal checksum
    - LP: #503430
  * KVM: s390: Make psw available on all exits, not just a subset
    - LP: #503430
  * md/bitmap: protect against bitmap removal while being updated.
    - LP: #503430
  * pata_hpt{37x|3x2n}: fix timing register masks (take 2)
    - LP: #503430
  * pxa/em-x270: fix usb hub power up/reset sequence
    - LP: #503430
  * ssb: Fix range check in sprom write
    - LP: #503430
  * SUNRPC: IS_ERR/PTR_ERR confusion
    - LP: #503430
  * USB: Close usb_find_interface race v3
    - LP: #503430
  * USB: musb_gadget_ep0: fix unhandled endpoint 0 IRQs, again
    - LP: #503430
  * USB: option.c: add support for D-Link DWM-162-U5
    - LP: #503430
  * USB: usb-storage: add BAD_SENSE flag
    - LP: #503430
  * USB: usbtmc: repeat usb_bulk_msg until whole message is transfered
    - LP: #503430
  * V4L/DVB: Fix test in copy_reg_bits()
    - LP: #503430
  * x86: Add new Intel CPU cache size descriptors
    - LP: #503430
  * x86/amd-iommu: attach devices to pre-allocated domains early
    - LP: #503430
  * x86/amd-iommu: un__init iommu_setup_msi
    - LP: #503430
  * x86, apic: Enable lapic nmi watchdog on AMD Family 11h
    - LP: #503430
  * x86: ASUS P4S800 reboot=bios quirk
    - LP: #366682, #503430
  * x86, Calgary IOMMU quirk: Find nearest matching Calgary while walking
    up the PCI tree
    - LP: #503430
  * x86: Fix iommu=nodac parameter handling
    - LP: #503430
  * x86: Fix typo in Intel CPU cache size descriptor
    - LP: #503430
  * x86: GART: pci-gart_64.c: Use correct length in strncmp
    - LP: #503430
  * drm/radeon/kms: Add quirk for HIS X1300 board
    - LP: #503430
  * drm/radeon/kms: fix legacy crtc2 dpms
    - LP: #503430
  * mac80211: Fix bug in computing crc over dynamic IEs in beacon
    - LP: #503430
  * mm: hugetlb: fix hugepage memory leak in mincore()
    - LP: #503430
  * mm: hugetlb: fix hugepage memory leak in walk_page_range()
    - LP: #503430
  * powerpc: Fix usage of 64-bit instruction in 32-bit altivec code
    - LP: #503430
  * Serial: Do not read IIR in serial8250_start_tx when UART_BUG_TXEN
    - LP: #503430
  * ide: Serialize CMD643 and CMD646 to fix a hardware bug with SSD
    - LP: #503430
  * ide: fix ioctl to pass requested transfer mode to ide_find_dma_mode
    instead of UDMA6
    - LP: #503430
  * slc90e66: fix UDMA handling
    - LP: #503430
  * Au1x00: fix crash when trying register_netdev()
    - LP: #503430
  * b44 WOL setup: one-bit-off stack corruption kernel panic fix
    - LP: #503430
  * b44: Fix wedge when using netconsole.
    - LP: #503430
  * gro: Fix illegal merging of trailer trash
    - LP: #503430
  * ip_fragment: also adjust skb->truesize for packets not owned by a
    socket
    - LP: #503430
  * net: Fix the rollback test in dev_change_name()
    - LP: #503430
  * NET: smc91x: Fix irq flags
    - LP: #503430
  * smsc9420: prevent BUG() if ethtool is called with interface down
    - LP: #503430
  * vlan: Fix register_vlan_dev() error path
    - LP: #503430
  * sparc64: Fix definition of VMEMMAP_SIZE.
    - LP: #503430
  * sunsab: Do not set sunsab_reg.cons right before registering minors.
    - LP: #503430
  * sunsu: Fix detection of SU ports which are RSC console or control.
    - LP: #503430
  * serial: suncore: Add 'ignore_line' argument to
    sunserial_console_match().
    - LP: #503430
  * serial: suncore: Fix RSC/LOM handling in sunserial_console_termios().
    - LP: #503430
  * sunsu: Pass true 'ignore_line' to console match when RSC or LOM
    console.
    - LP: #503430
  * sunsu: Use sunserial_console_termios() in sunsu_console_setup().
    - LP: #503430
  * sparc64: Don't specify IRQF_SHARED for LDC interrupts.
    - LP: #503430
  * sparc64: Fix overly strict range type matching for PCI devices.
    - LP: #503430
  * sparc64: Fix stack debugging IRQ stack regression.
    - LP: #503430
  * sparc: Set UTS_MACHINE correctly.
    - LP: #503430
  * x86/mce: Set up timer unconditionally
    - LP: #503430
  * b43legacy: avoid PPC fault during resume
    - LP: #503430
  * p54usb: Remove DMA buffer from stack
    - LP: #503430
  * x86: Under BIOS control, restore AP's APIC_LVTTHMR to the BSP value
    - LP: #503430
  * ACPI: Use the ARB_DISABLE for the CPU which model id is less than 0x0f.
    - LP: #503430, #481765
  * asus-laptop: change light sens default values.
    - LP: #503430
  * backlight: lcd - Fix wrong sizeof
    - LP: #503430
  * drm/i915: Avoid NULL dereference with component_only tv_modes
    - LP: #503430, #494045
  * drm/i915: Fix CRT hotplug detect by checking really no channels
    attached
    - LP: #503430
  * drm/i915: Fix LVDS stability issue on Ironlake
    - LP: #503430
  * drm/i915: save/restore BLC histogram control reg across suspend/resume
    - LP: #503430, #292256
  * drm/i915: PineView only has LVDS and CRT ports
    - LP: #503430
  * ext3: Fix data / filesystem corruption when write fails to copy data
    - LP: #503430
  * ipvs: zero usvc and udest
    - LP: #503430
  * ipw2100: fix rebooting hang with driver loaded
    - LP: #503430
  * jffs2: Fix long-standing bug with symlink garbage collection.
    - LP: #503430
  * matroxfb: fix problems with display stability
    - LP: #503430
  * net: Fix userspace RTM_NEWLINK notifications.
    - LP: #503430
  * thinkpad-acpi: fix default brightness_mode for R50e/R51
    - LP: #503430
  * thinkpad-acpi: preserve rfkill state across suspend/resume
    - LP: #503430
  * V4L/DVB (13116): gspca - ov519: Webcam 041e:4067 added.
    - LP: #503430
  * powerpc/therm_adt746x: Record pwm invert bit at module load time]
    - LP: #503430
  * drm/i915: Fix sync to vblank when VGA output is turned off
    - LP: #503430, #494461
  * Linux 2.6.31.9
    - LP: #503430
  * drm/i915: Refactor save/restore code
    - LP: #504273
  * drm/i915: Ironlake suspend/resume support
    - LP: #504273
  * drm/i915: Fix and cleanup DPLL calculation for Ironlake
    - LP: #504273
  * drm/i915: HDMI hardware workaround for Ironlake
    - LP: #504273
  * drm/i915: Add more registers save/restore for Ironlake suspend
    - LP: #504273
  * drm/i915: Add ACPI OpRegion support for Ironlake
    - LP: #504273
  * drm/i915: Add display hotplug event on Ironlake
    - LP: #504273
  * cdc_ether: additional Ericsson MBM PID's to the whitelist
    - LP: #476071
  * drm/i915: remove loop in Ironlake interrupt handler
    - LP: #510722
  * modules: Skip empty sections when exporting section notes
    - LP: #511129
  * ath5k: Fix eeprom checksum check for custom sized eeproms
    - LP: #506180

 -- Leann Ogasawara <leann.ogasawara@canonical.com>  Mon, 01 Feb 2010 09:51:37 -0800

linux (2.6.31-19.56) karmic-security; urgency=low

  [ Leann Ogasawara ]

  * [Upstream] e1000: enhance frame fragment detection
    - CVE-2009-4536
  * [Upstream] e1000e: enhance frame fragment detection
    - CVE-2009-4538

  [ Upstream Kernel Changes ]

  * hfs: fix a potential buffer overflow
    - CVE-2009-4020
  * KVM: x86 emulator: limit instructions to 15 bytes
    - CVE-2009-4031
  * ext4: Avoid null pointer dereference when decoding EROFS w/o a journal
    - CVE-2009-4308
  * firewire: ohci: handle receive packets with a data length of zero
    - CVE-2009-4138
  * fasync: split 'fasync_helper()' into separate add/remove functions
    - CVE-2009-4141
  * ipv6: skb_dst() can be NULL in ipv6_hop_jumbo().
    - CVE-2010-0006
  * kernel/signal.c: fix kernel information leak with print-fatal-signals=1
    - CVE-2010-0003
  * netfilter: ebtables: enforce CAP_NET_ADMIN
    - CVE-2010-0007
  * untangle the do_mremap() mess
    - CVE-2010-0291

 -- Leann Ogasawara <leann.ogasawara@canonical.com>  Tue, 19 Jan 2010 09:45:58 -0800

linux (2.6.31-17.54) karmic-proposed; urgency=low

  [ John Johansen ]

  * SAUCE: AppArmor: Fix oops after profile removal
    - LP: #475619
  * SAUCE: AppArmor: Fix Oops when in apparmor_bprm_set_creds
    - LP: #437258
  * SAUCE: AppArmor: Fix cap audit_caching preemption disabling
    - LP: #479102
  * SAUCE: AppArmor: Fix refcounting bug causing leak of creds
    - LP: #479115
  * SAUCE: AppArmor: Fix oops there is no tracer and doing unsafe
    transition.
    - LP: #480112

  [ Leann Ogasawara ]

  * Revert "[Upstream] (drop after 2.6.31) usb-storage: Workaround devices
    with bogus sense size"
    - LP: #461556
  * Revert "[Upstream] (drop after 2.6.31) Input: synaptics - add another
    Protege M300 to rate blacklist"
    - LP: #480144

  [ Tim Gardner ]

  * [Config] udeb: Add squashfs to fs-core-modules
    - LP: #352615

  [ Upstream Kernel Changes ]

  * Revert "e1000e: swap max hw supported frame size between 82574 and
    82583"
    - LP: #461556
  * Revert "drm/i915: Fix FDI M/N setting according with correct color
    depth"
    - LP: #480144
  * Revert "agp/intel: Add B43 chipset support"
    - LP: #480144
  * Revert "drm/i915: add B43 chipset support"
    - LP: #480144
  * Revert "ACPI: Attach the ACPI device to the ACPI handle as early as
    possible"
    - LP: #327499, #480144
  * SCSI: Retry ADD_TO_MLQUEUE return value for EH commands
    - LP: #461556
  * SCSI: Fix protection scsi_data_buffer leak
    - LP: #461556
  * SCSI: sg: Free data buffers after calling blk_rq_unmap_user
    - LP: #461556
  * ARM: pxa: workaround errata #37 by not using half turbo switching
    - LP: #461556
  * tracing/filters: Fix memory leak when setting a filter
    - LP: #461556
  * x86/paravirt: Use normal calling sequences for irq enable/disable
    - LP: #461556
  * USB: ftdi_sio: remove tty->low_latency
    - LP: #461556
  * USB: ftdi_sio: remove unused rx_byte counter
    - LP: #461556
  * USB: ftdi_sio: clean up read completion handler
    - LP: #461556
  * USB: ftdi_sio: re-implement read processing
    - LP: #461556
  * USB: pl2303: fix error characters not being reported to ldisc
    - LP: #461556
  * USB: digi_acceleport: Fix broken unthrottle.
    - LP: #461556
  * USB: serial: don't call release without attach
    - LP: #461556
  * USB: option: Toshiba G450 device id
    - LP: #461556
  * USB: ipaq: fix oops when device is plugged in
    - LP: #461556
  * USB: cp210x: Add support for the DW700 UART
    - LP: #461556
  * USB: Fix throttling in generic usbserial driver
    - LP: #461556
  * USB: storage: When a device returns no sense data, call it a Hardware
    Error
    - LP: #400652, #461556
  * arm, cris, mips, sparc, powerpc, um, xtensa: fix build with bash 4.0
    - LP: #461556
  * intel-iommu: Cope with broken HP DC7900 BIOS
    - LP: #461556
  * futex: Detect mismatched requeue targets
    - LP: #461556
  * futex: Fix wakeup race by setting TASK_INTERRUPTIBLE before queue_me()
    - LP: #461556
  * tpm-fixup-pcrs-sysfs-file-update
    - LP: #461556
  * TPM: fix pcrread
    - LP: #461556
  * Bluetooth: Disconnect HIDRAW devices on disconnect
    - LP: #461556
  * Bluetooth: Add extra device reference counting for connections
    - LP: #461556
  * Bluetooth: Let HIDP grab the device reference for connections
    - LP: #461556
  * connector: Keep the skb in cn_callback_data
    - LP: #461556
  * connector: Provide the sender's credentials to the callback
    - LP: #461556
  * connector: Removed the destruct_data callback since it is always
    kfree_skb()
    - LP: #461556
  * dm/connector: Only process connector packages from privileged processes
    - LP: #461556
  * dst/connector: Disallow unpliviged users to configure dst
    - LP: #461556
  * pohmelfs/connector: Disallow unpliviged users to configure pohmelfs
    - LP: #461556
  * uvesafb/connector: Disallow unpliviged users to send netlink packets
    - LP: #461556
  * e1000e: swap max hw supported frame size between 82574 and 82583
    - LP: #461556, #445572
  * MAINTAINERS: Fix Riku Voipio's address
    - LP: #461556
  * macintosh: Don't assume i2c device probing always succeeds
    - LP: #461556
  * i2c: Hide probe errors caused by ACPI resource conflicts
    - LP: #461556
  * ALSA: Don't assume i2c device probing always succeeds
    - LP: #461556
  * bsdacct: switch credentials for writing to the accounting file
    - LP: #461556
  * sysfs: Allow sysfs_notify_dirent to be called from interrupt context.
    - LP: #461556
  * Staging: rt2860sta: prevent a panic when disabling when associated
    - LP: #461556, #404626
  * usb-storage: Workaround devices with bogus sense size
    - LP: #461556, #446146
  * iwlwifi: incorrect method used for finding valid OTP blocks
    - LP: #461556
  * mac80211: fix vlan and optimise RX
    - LP: #461556
  * tty: Make flush_to_ldisc() locking more robust
    - LP: #461556
  * Linux 2.6.31.5
    - LP: #461556
  * fs: pipe.c null pointer dereference
    - LP: #480144
  * pci: increase alignment to make more space for hidden code
    - LP: #407824, #480144, #474577
  * libata: fix internal command failure handling
    - LP: #480144
  * libata: fix PMP initialization
    - LP: #480144
  * sata_nv: make sure link is brough up online when skipping hardreset
    - LP: #480144
  * nfs: Fix nfs_parse_mount_options() kfree() leak
    - LP: #480144
  * KVM: use proper hrtimer function to retrieve expiration time
    - LP: #480144
  * KVM: ignore reads from AMDs C1E enabled MSR
    - LP: #480144
  * futex: Handle spurious wake up
    - LP: #480144
  * futex: Check for NULL keys in match_futex
    - LP: #480144
  * futex: Move drop_futex_key_refs out of spinlock'ed region
    - LP: #480144
  * futex: Fix spurious wakeup for requeue_pi really
    - LP: #480144
  * ahci: revert "Restore SB600 sata controller 64 bit DMA"
    - LP: #480144
  * sparc64: Set IRQF_DISABLED on LDC channel IRQs.
    - LP: #480144
  * watchdog: Fix rio watchdog probe function
    - LP: #480144
  * Input: synaptics - add another Protege M300 to rate blacklist
    - LP: #480144
  * dm snapshot: free exception store on init failure
    - LP: #480144
  * dm snapshot: sort by chunk size to fix race
    - LP: #480144
  * dm log: userspace fix incorrect luid cast in userspace_ctr
    - LP: #480144
  * dm: add missing del_gendisk to alloc_dev error path
    - LP: #480144
  * dm: dec_pending needs locking to save error value
    - LP: #480144
  * dm exception store: fix failed set_chunk_size error path
    - LP: #480144
  * dm snapshot: lock snapshot while supplying status
    - LP: #480144
  * dm snapshot: require non zero chunk size by end of ctr
    - LP: #480144
  * dm snapshot: use unsigned integer chunk size
    - LP: #480144
  * ray_cs: Fix copy_from_user handling
    - LP: #480144
  * mbind(): fix leak of never putback pages
    - LP: #480144
  * do_mbind(): fix memory leak
    - LP: #480144
  * 8250_pci: add IBM Saturn serial card
    - LP: #480144
  * dpt_i2o: Fix up copy*user
    - LP: #480144
  * dpt_i2o: Fix typo of EINVAL
    - LP: #480144
  * hfsplus: refuse to mount volumes larger than 2TB
    - LP: #480144
  * Driver core: fix driver_register() return value
    - LP: #480144
  * param: fix lots of bugs with writing charp params from sysfs, by
    leaking mem.
    - LP: #480144
  * param: fix NULL comparison on oom
    - LP: #480144
  * param: fix setting arrays of bool
    - LP: #480144
  * USB: serial: sierra driver send_setup() autopm fix
    - LP: #480144
  * USB: option: Patch for Huawei Mobile Broadband E270+ Modem
    - LP: #480144
  * USB: option: Support for AIRPLUS MCD650 Datacard
    - LP: #480144
  * USB: option: TLAYTECH TUE800 support
    - LP: #456264, #480144
  * libertas if_usb: Fix crash on 64-bit machines
    - LP: #480144
  * cpuidle: always return with interrupts enabled
    - LP: #480144
  * virtio: order used ring after used index read
    - LP: #480144
  * CIFS: Fixing to avoid invalid kfree() in cifs_get_tcp_session()
    - LP: #480144
  * mac80211: fix for incorrect sequence number on hostapd injected frames
    - LP: #480144
  * mac80211: check interface is down before type change
    - LP: #480144
  * x86, UV: Fix information in __uv_hub_info structure
    - LP: #480144
  * x86, UV: Set DELIVERY_MODE=4 for vector=NMI_VECTOR in uv_hub_send_ipi()
    - LP: #480144
  * NOMMU: Don't pass NULL pointers to fput() in do_mmap_pgoff()
    - LP: #480144
  * mm: remove incorrect swap_count() from try_to_unuse()
    - LP: #480144
  * x86-64: Fix register leak in 32-bit syscall audting
    - LP: #480144
  * nilfs2: fix dirty page accounting leak causing hang at write
    - LP: #480144
  * drm/i915: Fix FDI M/N setting according with correct color depth
    - LP: #480144
  * drm/i915: fix to setup display reference clock control on Ironlake
    - LP: #480144
  * drm/i915: fix panel fitting filter coefficient select for Ironlake
    - LP: #480144
  * agp/intel: Add B43 chipset support
    - LP: #480144
  * drm/i915: add B43 chipset support
    - LP: #480144
  * xen/hvc: make sure console output is always emitted, with explicit
    polling
    - LP: #480144
  * xen: mask extended topology info in cpuid
    - LP: #480144
  * sgi-gru: decrapfiy options_write() function
    - LP: #480144
  * KVM: get_tss_base_addr() should return a gpa_t
    - LP: #480144
  * fuse: prevent fuse_put_request on invalid pointer
    - LP: #480144
  * fuse: fix kunmap in fuse_ioctl_copy_user
    - LP: #480144
  * x86/amd-iommu: Workaround for erratum 63
    - LP: #480144
  * fsnotify: do not set group for a mark before it is on the i_list
    - LP: #480144
  * mips: fix build of vmlinux.lds
    - LP: #480144
  * alpha: fix build after vmlinux.lds.S cleanup
    - LP: #480144
  * ACPI / PCI: Fix NULL pointer dereference in acpi_get_pci_dev() (rev. 2)
    - LP: #480144
  * KEYS: get_instantiation_keyring() should inc the keyring refcount in
    all cases
    - LP: #480144
  * b43: Fix Bugzilla #14181 and the bug from the previous 'fix'
    - LP: #476154, #480144
  * pata_sc1200: Fix crash on boot
    - LP: #480144
  * AF_UNIX: Fix deadlock on connecting to shutdown socket (CVE-2009-3621)
    - LP: #480144
  * ALSA: ice1724 - Make call to set hw params succeed on ESI Juli@
    - LP: #480144
  * bonding: fix a race condition in calls to slave MII ioctls
    - LP: #480144
  * hwmon: (it87) Fix VID reading on IT8718F/IT8720F
    - LP: #480144
  * netlink: fix typo in initialization (CVE-2009-3612)
    - LP: #480144
  * nfs: Avoid overrun when copying client IP address string
    - LP: #480144
  * nfs: Panic when commit fails
    - LP: #480144
  * NFSv4: Fix a bug when the server returns NFS4ERR_RESOURCE
    - LP: #480144
  * NFSv4: Fix two unbalanced put_rpccred() issues.
    - LP: #459265, #480144
  * NFSv4: Kill nfs4_renewd_prepare_shutdown()
    - LP: #480144
  * NFSv4: The link() operation should return any delegation on the file
    - LP: #480144
  * powerpc: Remove SMP warning from PowerMac cpufreq
    - LP: #480144
  * vmscan: limit VM_EXEC protection to file pages
    - LP: #480144
  * x86: mce: Clean up thermal throttling state tracking code
    - LP: #480144
  * x86: mce: Fix thermal throttling message storm
    - LP: #453444, #480144
  * iwlwifi: fix potential rx buffer loss
    - LP: #480144
  * iwlwifi: reduce noise when skb allocation fails
    - LP: #480144
  * x86/amd-iommu: Un__init function required on shutdown
    - LP: #480144
  * KVM: Prevent kvm_init from corrupting debugfs structures
    - LP: #480144
  * powerpc/pmac: Fix PowerSurge SMP IPI allocation
    - LP: #480144
  * powerpc/pmac: Fix issues with sleep on some powerbooks
    - LP: #480144
  * powerpc/pci: Fix regression in powerpc MSI-X
    - LP: #480144
  * powerpc: Fix some late PowerMac G5 with PCIe ATI graphics
    - LP: #480144
  * sata_via: Remove redundant device ID for VIA VT8261
    - LP: #480144
  * pata_via: extend the rev_max for VT6330
    - LP: #480144
  * PM / yenta: Split resume into early and late parts (rev. 4)
    - LP: #480144
  * Linux 2.6.31.6
    - LP: #480144

 -- Stefan Bader <stefan.bader@canonical.com>  Thu, 03 Dec 2009 22:57:36 +0100

linux (2.6.31-16.53) karmic-security; urgency=low

  [ Upstream Kernel Changes ]

  * ext4: Fix insufficient checks in EXT4_IOC_MOVE_EXT
    - LP: #492659
    - CVE-2009-4131

 -- Leann Ogasawara <leann.ogasawara@canonical.com>  Mon, 07 Dec 2009 08:52:07 -0800

linux (2.6.31-16.52) karmic-security; urgency=low

  [ Leann Ogasawara ]

  * [SCSI] megaraid_sas: remove sysfs poll_mode_io world writeable
    permissions
    - CVE-2009-3939

  [ Upstream Kernel Changes ]

  * fs: pipe.c null pointer dereference
    - CVE-2009-3547
  * netlink: fix typo in initialization
    - CVE-2009-3612
  * drm/r128: Add test for initialisation to all ioctls that require it
    - CVE-2009-3620
  * AF_UNIX: Fix deadlock on connecting to shutdown socket
    - CVE-2009-3621
  * nfsd4: use common rpc_cred for all callbacks
    - CVE-2009-3623
  * KEYS: get_instantiation_keyring() should inc the keyring refcount in
    all cases
    - CVE-2009-3624
  * connector: Keep the skb in cn_callback_data
    - CVE-2009-3725
  * connector: Provide the sender's credentials to the callback
    - CVE-2009-3725
  * connector: Fix incompatible pointer type warning
    - CVE-2009-3725
  * uvesafb/connector: Disallow unpliviged users to send netlink packets
    - CVE-2009-3725
  * pohmelfs/connector: Disallow unpliviged users to configure pohmelfs
    - CVE-2009-3725
  * dst/connector: Disallow unpliviged users to configure dst
    - CVE-2009-3725
  * dm/connector: Only process connector packages from privileged processes
    - CVE-2009-3725
  * NOMMU: Don't pass NULL pointers to fput() in do_mmap_pgoff()
    - CVE-2009-3888
  * isdn: hfc_usb: Fix read buffer overflow
    - CVE-2009-4005
  * gdth: Prevent negative offsets in ioctl CVE-2009-3080
    - CVE-2009-3080
  * mac80211: fix spurious delBA handling
    - LP: #491301
  * mac80211: fix two remote exploits
    - LP: #491301
  * ipv4: additional update of dev_net(dev) to struct *net in ip_fragment.c
    - LP: #491301

 -- Leann Ogasawara <leann.ogasawara@canonical.com>  Mon, 23 Nov 2009 13:57:30 -0800

linux (2.6.31-15.50) karmic-proposed; urgency=low

  [ Kees Cook ]

  * SAUCE: Fix nx_enable reporting
    - LP: #454285

 -- Stefan Bader <stefan.bader@canonical.com>  Tue, 10 Nov 2009 14:31:52 +0100

linux (2.6.31-15.49) karmic-proposed; urgency=low

  [ Benjamin Herrenschmidt ]

  * [Upstream] (drop after 2.6.31) usb-storage: Workaround devices with
    bogus sense size
    - LP: #446146

  [ John Johansen ]

  * SAUCE: AppArmor: AppArmor wrongly reports allow perms as denied
    - LP: #453335
  * SAUCE: AppArmor: Policy load and replacement can fail to alloc mem
    - LP: #458299
  * SAUCE: AppArmor: AppArmor fails to audit change_hat correctly
    - LP: #462824
  * SAUCE: AppArmor: AppArmor disallows truncate of deleted files.
    - LP: #451375

  [ Kees Cook ]

  * SAUCE: [x86] fix report of cs-limit nx-emulation
    - LP: #454285

  [ Scott James Remnant ]

  * Revert "SAUCE: trace: add trace_event for the open() syscall"
  * SAUCE: trace: add trace events for open(), exec() and uselib()
    - LP: #462111

  [ Stefan Bader ]

  * SAUCE: Fix sub-flavour script to not stop on missing directories
    - LP: #453073

  [ Tim Gardner ]

  * [Upstream] (drop after 2.6.31) Input: synaptics - add another Protege
    M300 to rate blacklist
    - LP: #433801

  [ Upstream Kernel Changes ]

  * PM: Make warning in suspend_test_finish() less likely to happen
    - LP: #464552

 -- Stefan Bader <stefan.bader@canonical.com>  Wed, 28 Oct 2009 21:21:02 +0000

linux (2.6.31-14.48) karmic; urgency=low

  [ Colin Watson ]

  * Add more e100 firmware to nic-modules
    - LP: #451872
  * Add qla1280 firmware to scsi-modules
    - LP: #381037

 -- Andy Whitcroft <apw@canonical.com>  Fri, 16 Oct 2009 09:31:45 +0100

linux (2.6.31-14.47) karmic; urgency=low

  [ Mario Limonciello ]

  * SAUCE: dell-laptop: Store the HW switch status internally rather than
    requerying every time
    - LP: #430809
  * SAUCE: dell-laptop: Blacklist machines not supporting dell-laptop
    - LP: #430809

 --  Tim Gardner <tim.gardner@canonical.com>  Wed, 14 Oct 2009 15:05:39 -0600

linux (2.6.31-14.46) karmic; urgency=low

  [ Andy Whitcroft ]

  * reinstate armel.mk with no flavours
    - LP: #449637
  * [Upstream] elevator: fix fastfail checks to allow merge of readahead
    requests
    - LP: #444915
  * [Upstream] block: silently error unsupported empty barriers too
    - LP: #420423

  [ John Johansen ]

  * SAUCE: AppArmor: Fix mediation of "deleted" paths
    - LP: #415632

  [ Tim Gardner ]

  * [Config] CONFIG_X86_MCE
    https://lists.ubuntu.com/archives/kernel-team/2009-October/007584.html
  * Revert "appletalk: Fix skb leak when ipddp interface is not loaded,
    CVE-2009-2903" - Use patch from 2.6.31.4 which is slightly different.

  [ Upstream Kernel Changes ]

  * x86: fix csum_ipv6_magic asm memory clobber
  * tty: Avoid dropping ldisc_mutex over hangup tty re-initialization
  * x86: Don't leak 64-bit kernel register values to 32-bit processes
  * tracing: correct module boundaries for ftrace_release
  * ftrace: check for failure for all conversions
  * futex: fix requeue_pi key imbalance
  * futex: Move exit_pi_state() call to release_mm()
  * futex: Nullify robust lists after cleanup
  * futex: Fix locking imbalance
  * NOHZ: update idle state also when NOHZ is inactive
  * ima: ecryptfs fix imbalance message
  * libata: fix incorrect link online check during probe
  * sound: via82xx: move DXS volume controls to PCM interface
  * ASoC: WM8350 capture PGA mutes are inverted
  * KVM: Prevent overflow in KVM_GET_SUPPORTED_CPUID
  * KVM: VMX: flush TLB with INVEPT on cpu migration
  * KVM: fix LAPIC timer period overflow
  * KVM: SVM: Fix tsc offset adjustment when running nested
  * KVM: SVM: Handle tsc in svm_get_msr/svm_set_msr correctly
  * net: Fix wrong sizeof
  * mm: add_to_swap_cache() must not sleep
  * sis5513: fix PIO setup for ATAPI devices
  * PIT fixes to unbreak suspend/resume (bug #14222)
  * IMA: open new file for read
  * ACPI: Clarify resource conflict message
  * ACPI: fix Compaq Evo N800c (Pentium 4m) boot hang regression
  * net: restore tx timestamping for accelerated vlans
  * net: unix: fix sending fds in multiple buffers
  * tun: Return -EINVAL if neither IFF_TUN nor IFF_TAP is set.
  * tcp: fix CONFIG_TCP_MD5SIG + CONFIG_PREEMPT timer BUG()
  * net: Fix sock_wfree() race
  * smsc95xx: fix transmission where ZLP is expected
  * sky2: Set SKY2_HW_RAM_BUFFER in sky2_init
  * appletalk: Fix skb leak when ipddp interface is not loaded
  * ax25: Fix possible oops in ax25_make_new
  * ax25: Fix SIOCAX25GETINFO ioctl
  * sit: fix off-by-one in ipip6_tunnel_get_prl
  * Linux 2.6.31.4
  * drm/i915: Fix FDI M/N setting according with correct color depth
    - LP: #416792

 -- Andy Whitcroft <apw@canonical.com>  Tue, 13 Oct 2009 12:06:59 +0100

linux (2.6.31-13.45) karmic; urgency=low

  [ Luke Yelavich ]

  * [Config] Add sd_mod to scsi-modules udeb for powerpc

  [ Mario Limonciello ]

  * SAUCE: Update to LIRC 0.8.6
    - LP: #432678

  [ Tim Gardner ]

  * [Config] CONFIG_X86_PAT=y
    https://lists.ubuntu.com/archives/kernel-team/2009-October/007477.html
    https://lists.ubuntu.com/archives/kernel-team/2009-October/007534.html

  * [Config] Add armel arch to linux-libc-dev arches.
    - LP: #449637

  [ Upstream Kernel Changes ]

  * e1000e: swap max hw supported frame size between 82574 and 82583
  * drm/i915: Initialize HDMI outputs as HDMI connectors, not DVI.
    - LP: #392017
  * ALSA: hda - Add quirks for some HP laptops
    - LP: #449742
  * ALSA: hda - Add support for HP dv6
    - LP: #449742

 --  Tim Gardner <tim.gardner@canonical.com>  Mon, 12 Oct 2009 11:27:10 -0600

linux (2.6.31-13.44) karmic; urgency=low

  [ Upstream Kernel Changes ]

  * sgi-gru: Fix kernel stack buffer overrun, CVE-2009-2584
  * appletalk: Fix skb leak when ipddp interface is not loaded,
    CVE-2009-2903
    Note - This patch causes an ABI change in the symbol aarp_send_ddp
    which I'm ignoring.

 --  Tim Gardner <tim.gardner@canonical.com>  Sat, 10 Oct 2009 08:27:46 -0600

linux (2.6.31-13.43) karmic; urgency=low

  [ Andy Whitcroft ]

  * Revert "[Upstream] acerhdf: Limit modalias matching to supported
    boards"

  [ Colin Watson ]

  * Use section 'admin' rather than 'base'

  [ John Johansen ]

  * SAUCE: AppArmor: Set error code after structure initialization.
    - LP: #427948
  * SAUCE: AppArmor: Fix off by 2 error in getprocattr mem allocation
    - LP: #446595

  [ Luke Yelavich ]

  * SAUCE: Add sr_mod to the scsi-modules udeb for powerpc

  [ Stefan Bader ]

  * [Upstream] acerhdf: Limit modalias matching to supported boards
    (supersedes previous revert made by Andy Whitcroft)
    - LP: #435958

 --  Tim Gardner <tim.gardner@canonical.com>  Fri, 09 Oct 2009 10:08:16 -0600

linux (2.6.31-13.42) karmic; urgency=low

  [ Leann Ogasawara ]

  * SAUCE: (drop after 2.6.31) input: Add support for filtering input
    events
    - LP: #430809
  * SAUCE: (drop after 2.6.31) dell-laptop: Trigger rfkill updates on wifi
    toggle switch press
    - LP: #430809

  [ Tim Gardner ]

  * SAUCE: Raise the default console 'quiet' level to 2
    This supresses all but critical and emergency level messages.
    https://lists.ubuntu.com/archives/kernel-team/2009-October/007476.html

  [ Upstream Kernel Changes ]

  * TTY: fix typos
  * Linux 2.6.31.3
  * V4L/DVB (12439): cx88: add support for WinFast DTV2000H rev. J
    - LP: #433904

 --  Tim Gardner <tim.gardner@canonical.com>  Thu, 08 Oct 2009 10:42:07 -0600

linux (2.6.31-12.41) karmic; urgency=low

  [ Tim Gardner ]

  * [Config] CONFIG_GFS2_FS_LOCKING_DLM=y
    - LP: #416325
  * SAUCE: Fix MODULE_IMPORT/MODULE_EXPORT
    The original patch failed to work for amd64.
    - LP: #430694

  [ Upstream Kernel Changes ]

  * ALSA: hda - Add a white-list for MSI option
    Upstream cherry-pick: Infrastructure support for #445580
  * ALSA: hda - Add HP Pavilion dv4t-1300 to MSI whitelist
    - LP: #445580
  * ALSA: intel8x0 - Mute External Amplifier by default for Sony VAIO
    VGN-T350P
    - LP: #410933
  * ALSA: intel8x0 - Mute External Amplifier by default for Sony VAIO
    VGN-B1VP
    - LP: #410933

 --  Tim Gardner <tim.gardner@canonical.com>  Wed, 07 Oct 2009 11:59:35 -0600

linux (2.6.31-12.40) karmic; urgency=low

  [ Tim Gardner ]

  * SAUCE: Created MODULE_EXPORT/MODULE_IMPORT macros
    - LP: #430694
  * SAUCE: Use MODULE_IMPORT macro to tie intel_agp to i915
    - LP: #430694

  [ Upstream Kernel Changes ]

  * V4L/DVB (12352): gspca - vc032x: Fix mi1310_soc preview and LED
    - LP: #310760

 --  Tim Gardner <tim.gardner@canonical.com>  Tue, 06 Oct 2009 20:25:36 -0600

linux (2.6.31-12.39) karmic; urgency=low

  [ Andy Whitcroft ]

  * install the full changelog with the binary package
  * changelog -- explicitly note rebases and clean history

  [ Tim Gardner ]

  * Revert "SAUCE: (drop after 2.6.31) Disable iwl-1000 series wireless
    adapters"
  * Revert "SAUCE: (drop after 2.6.31) eCryptfs: Prevent lower dentry from
    going negative during unlink"
  * Revert "SAUCE: (drop after 2.6.31) em28xx: ir-kbd-i2c init data needs a
    persistent object"
  * Revert "SAUCE: (drop after 2.6.31) saa7134: ir-kbd-i2c init data needs
    a persistent object"
  * Revert "drm/i915: Check that the relocation points to within the
    target"
  * Revert "drm/i915: fix tiling on IGDNG"
  * Revert "Driver core: add new device to bus's list before probing"
  * Revert "HID: completely remove apple mightymouse from blacklist"
  * Revert "KVM: x86: check for cr3 validity in ioctl_set_sregs"

    All reverts superseded by corresponding v2.6.31.2 patches

  * [Config] Add d101m_ucode.bin to d-i/firmware/nic-modules
    - LP: #439456
  * [Config] Enabled CONFIG_SND_HDA_HWDEP
    - LP: #443117
  * [Config] Add cpio as a build dependency.
  * [Config] Set default I/O scheduler back to CFQ for desktop flavours
    - LP: #381300

  [ Upstream Kernel Changes ]

  * KVM: VMX: Fix EPT with WP bit change during paging
  * pata_amd: do not filter out valid modes in nv_mode_filter
  * p54usb: add Zcomax XG-705A usbid
  * x86: Increase MIN_GAP to include randomized stack
  * serial: bfin_5xx: fix building as module when early printk is enabled
  * USB: option.c Add support for ZTE AC2726 EVDO modem
  * USB: option: TELIT UC864G support
  * video: s3c_fb.c: fix build with CONFIG_HOTPLUG=n
  * kbuild: fix cc1 options check to ensure we do not use -fPIC when
    compiling
  * drivers/mfd/ab3100-core.c: fix powerpc build error
  * thinkpad-acpi: don't ask about brightness_mode for fw. 1V and 1R
  * ACPI: pci_slot.ko wants a 64-bit _SUN
  * fbcon: only unbind from console if successfully registered
  * kallsyms: fix segfault in prefix_underscores_count()
  * sisfb: change SiS_DDC_Port type to SISIOADDRESS
  * mmc_spi: fail gracefully if host or card do not support the switch
    command
  * alpha: AGP update (fixes compile failure)
  * fs: make sure data stored into inode is properly seen before unlocking
    new inode
  * eCryptfs: Handle unrecognized tag 3 cipher codes
  * eCryptfs: Check for O_RDONLY lower inodes when opening lower files
  * eCryptfs: Filename encryption only supports password auth tokens
  * eCryptfs: Validate global auth tok keys
  * eCryptfs: Prevent lower dentry from going negative during unlink
  * Re-enable Lanman security
  * xen: make -fstack-protector work under Xen
  * xen: only enable interrupts while actually blocking for spinlock
  * xen: use stronger barrier after unlocking lock
  * xen: check EFER for NX before setting up GDT mapping
  * perf_counter: Fix perf_copy_attr() pointer arithmetic
  * perf tools: Fix buffer allocation
  * tty: serial/pcmcia: add ID for Advantech card
  * PM / PCMCIA: Drop second argument of pcmcia_socket_dev_suspend()
  * PM / yenta: Fix cardbus suspend/resume regression
  * sony-laptop: check for rfkill hard block at load time
  * nilfs2: fix missing zero-fill initialization of btree node cache
  * ar9170usb: add usbid for TP-Link TL-WN821N v2
  * mtd: nand: fix ECC Correction bug for SMC ordering for NDFC driver
  * mtd: ofpart: Check availability of reg property instead of name
    property
  * mtd: cfi_cmdset_0002: add 0xFF intolerance for M29W128G
  * USB: serial: ftdi_sio: new hardware support - hameg power supply
  * USB: add PIDs for FTDI based OpenDCC hardware
  * USB: serial: ftdi: handle gnICE+ JTAG adaptors
  * USB: CDC WDM driver doesn't support non-blocking reads
  * USB: fix cdc-acm regression in open
  * cdc_acm: Fix to use modern speed interfaces
  * tty: remove dtr/rts use from the driver open methods
  * tty: gigaset: really fix chars_in_buffer
  * kaweth: Fix memory leak in kaweth_control()
  * x86: SGI UV: Fix IPI macros
  * USB: serial: pl2303: new hardware support - sanwa multimeter
  * USB: storage: fix a resume path GFP_NOIO must be used
  * USB: usb-storage fails to attach to Huawei Datacard cdrom device
  * USB: usbtmc: sanity checks for DEV_DEP_MSG_IN urbs
  * USB: sl811-hcd: Fix device disconnect:
  * drm/i915: remove restore in resume
  * drm/i915: Only destroy a constructed mmap offset
  * drm/i915: prevent FIFO calculation overflows on 32 bits with high
    dotclocks
  * drm/i915: Add buffer to inactive list immediately during fault
  * drm/i915: Check that the relocation points to within the target
  * drm/i915: Fix typo for wrong LVDS clock setting on IGDNG
  * drm/i915: Fix SSC frequence for IGDNG
  * drm/i915: Remove DAC disable in CRT force detect on IGDNG
  * drm/i915: Fix LVDS panel fitting on Arrandale
  * drm/I915: Use the CRT DDC to get the EDID for DVI-connector on Mac
  * drm/i915: fix tiling on IGDNG
  * agp/intel: Fix the pre-9xx chipset flush.
  * nfsd4: fix null dereference creating nfsv4 callback client
  * can: fix NOHZ local_softirq_pending 08 warning
  * ahci: restore pci_intx() handling
  * pxa/sharpsl_pm: zaurus c3000 aka spitz: fix resume
  * net ax25: Fix signed comparison in the sockopt handler
  * net: Make the copy length in af_packet sockopt handler unsigned
  * pty_write: don't do a tty_wakeup() when the buffers are full
  * KVM: fix cpuid E2BIG handling for extended request types
  * KVM: MMU: fix missing locking in alloc_mmu_pages
  * KVM: MMU: fix bogus alloc_mmu_pages assignment
  * KVM: Protect update_cr8_intercept() when running without an apic
  * Fix NULL ptr regression in powernow-k8
  * perf tools: do not complain if root is owning perf.data
  * netfilter: nf_nat: fix inverted logic for persistent NAT mappings
  * netfilter: nf_conntrack: netns fix re reliable conntrack event delivery
  * netfilter: bridge: refcount fix
  * netfilter: ebt_ulog: fix checkentry return value
  * ath5k: Wakeup fixes
  * ath5k: do not release irq across suspend/resume
  * Driver core: add new device to bus's list before probing
  * tty: Add a full port_close function
  * tty: USB hangup is racy
  * tty: USB can now use the shutdown method for kref based freeing of
    ports
  * hwmon: (asus_atk0110) Add maintainer information
  * tty: USB serial termios bits
  * usb-serial: change referencing of port and serial structures
  * usb-serial: put subroutines in logical order
  * usb-serial: change logic of serial lookups
  * usb-serial: acquire references when a new tty is installed
  * usb-serial: fix termios initialization logic
  * usb-serial: rename subroutines
  * usb-serial: add missing tests and debug lines
  * usb-serial: straighten out serial_open
  * USB serial: update the console driver
  * USB: xhci: Work around for chain bit in link TRBs.
  * USB: xhci: Fix slot and endpoint context debugging.
  * USB: xhci: Configure endpoint code refactoring.
  * USB: xhci: Set correct max packet size for HS/FS control endpoints.
  * USB: xhci: Support full speed devices.
  * USB: xhci: Handle stalled control endpoints.
  * USB: xhci: Add quirk for Fresco Logic xHCI hardware.
  * USB: xhci: Make TRB completion code comparison readable.
  * USB: xhci: Handle babbling endpoints correctly.
  * USB: xhci: Don't touch xhci_td after it's freed.
  * USB: xhci: Check URB's actual transfer buffer size.
  * USB: xhci: Check URB_SHORT_NOT_OK before setting short packet status.
  * USB: xhci: Set -EREMOTEIO when xHC gives bad transfer length.
  * USB: xhci: Support interrupt transfers.
  * USB: Fix SS endpoint companion descriptor parsing.
  * /proc/kcore: work around a BUG()
  * hugetlb: restore interleaving of bootmem huge pages (2.6.31)
  * page-allocator: limit the number of MIGRATE_RESERVE pageblocks per zone
  * mm: munlock use follow_page
  * mm: fix anonymous dirtying
  * mmap: avoid unnecessary anon_vma lock acquisition in vma_adjust()
  * Fix idle time field in /proc/uptime
  * drm/i915: Handle ERESTARTSYS during page fault
  * em28xx: ir-kbd-i2c init data needs a persistent object
  * saa7134: ir-kbd-i2c init data needs a persistent object
  * powerpc/8xx: Fix regression introduced by cache coherency rewrite
  * powerpc: Fix incorrect setting of __HAVE_ARCH_PTE_SPECIAL
  * HID: completely remove apple mightymouse from blacklist
  * mptsas : PAE Kernel more than 4 GB kernel panic
  * NOMMU: Fix MAP_PRIVATE mmap() of objects where the data can be mapped
    directly
  * iwlwifi: Handle new firmware file with ucode build number in header
  * iwlwifi: update 1000 series API version to match firmware
  * iwlagn: modify digital SVR for 1000
  * iwlwifi: traverse linklist to find the valid OTP block
  * iwlwifi: fix unloading driver while scanning
  * Linux 2.6.31.2

 --  Tim Gardner <tim.gardner@canonical.com>  Mon, 05 Oct 2009 09:39:35 -0600

linux (2.6.31-11.38) karmic; urgency=low

  [ Stefan Bader ]

  * [Upstream] acerhdf: Limit modalias matching to supported boards
    - LP: #435958

  [ Tim Gardner ]

  * [Config] Added sata_via to d-i/modules/sata-modules
    - LP: #434827
  * SAUCE: (drop after 2.6.31) Disable iwl-1000 series wireless adapters
    - LP: #439285
  * [Upstream] i915: Fix i2c init message
    - LP: #409361
  * [Config] Add sym53c8xx.ko to virtual sub-flavour
    - LP: #439415

  [ Upstream Kernel Changes ]

  * sched: Disable NEW_FAIR_SLEEPERS for now
    - LP: #436342

  * ACPI video: ignore buggy _BQC
  * ACPI video: work-around BIOS AML bug in _BQC
    - LP: #428910
  * ALSA: hda - Added quirk to enable sound on Toshiba NB200
    - LP: #438318

 --  Tim Gardner <tim.gardner@canonical.com>  Thu, 01 Oct 2009 13:52:09 -0600

linux (2.6.31-11.37) karmic; urgency=low

  [ Tim Gardner ]

  * [Config] Increase kernel log buffer to 256K for amd64 flavours
    - LP: #424810
  * [Config] Set HZ=100 for amd64 flavours
    - LP: #438234
  * [Upstream] e1000e: Emit notice instead of an error when
    pci_enable_pcie_error_reporting() fails
    - LP: #436370

  [ Upstream Kernel Changes ]

  * n_tty: honor opost flag for echoes
  * n_tty: move echoctl check and clean up logic
    - LP: #438310

  * Revert "[Upstream] drm/i915: Check that the relocation points to within
    the target" - Use upstream cherry-pick.
  * drm/i915: Check that the relocation points to within the target
    - LP: #429241

  * drm/i915: fix tiling on IGDNG
  * drm/i915: add B43 chipset support
  * agp/intel: Add B43 chipset support
    Intel request from kernel team mailing list.

  * HID: completely remove apple mightymouse from blacklist
    - LP: #428111

 --  Tim Gardner <tim.gardner@canonical.com>  Mon, 28 Sep 2009 11:47:29 -0600

linux (2.6.31-11.36) karmic; urgency=low

  [ Brian Rogers ]

  * SAUCE: (drop after 2.6.31) em28xx: ir-kbd-i2c init data needs a
    persistent object
  * SAUCE: (drop after 2.6.31) saa7134: ir-kbd-i2c init data needs a
    persistent object

  [ Takashi Iwai ]

  * [Upstream] ALSA: hda - Add another entry for Nvidia HDMI device
    - LP: #416482

  [ Tyler Hicks ]

  * SAUCE: (drop after 2.6.31) eCryptfs: Prevent lower dentry from going
    negative during unlink

  [ Upstream Kernel Changes ]

  * sg: fix oops in the error path in sg_build_indirect()
  * mpt2sas : Rescan topology from Interrupt context instead of work thread
  * mpt2sas: Prevent sending command to FW while Host Reset
  * mpt2sas: setting SDEV into RUNNING state from Interrupt context
  * mpt2sas: Raid 10 Volume is showing as Raid 1E in dmesg
  * SCSI: fix oops during scsi scanning
  * SCSI: libsrp: fix memory leak in srp_ring_free()
  * cfg80211: fix looping soft lockup in find_ie()
  * ath5k: write PCU registers on initial reset
  * binfmt_elf: fix PT_INTERP bss handling
  * TPM: Fixup boot probe timeout for tpm_tis driver
  * md: Fix "strchr" [drivers/md/dm-log-userspace.ko] undefined!
  * x86/amd-iommu: fix broken check in amd_iommu_flush_all_devices
  * fix undefined reference to user_shm_unlock
  * perf_counter: Fix buffer overflow in perf_copy_attr()
  * perf_counter: Start counting time enabled when group leader gets
    enabled
  * powerpc/perf_counters: Reduce stack usage of power_check_constraints
  * powerpc: Fix bug where perf_counters breaks oprofile
  * powerpc/ps3: Workaround for flash memory I/O error
  * block: don't assume device has a request list backing in nr_requests
    store
  * agp/intel: remove restore in resume
  * ALSA: cs46xx - Fix minimum period size
  * ASoC: Fix WM835x Out4 capture enumeration
  * sound: oxygen: work around MCE when changing volume
  * mlx4_core: Allocate and map sufficient ICM memory for EQ context
  * perf stat: Change noise calculation to use stddev
  * x86: Fix x86_model test in es7000_apic_is_cluster()
  * x86/i386: Make sure stack-protector segment base is cache aligned
  * PCI: apply nv_msi_ht_cap_quirk on resume too
  * x86, pat: Fix cacheflush address in change_page_attr_set_clr()
  * ARM: 5691/1: fix cache aliasing issues between kmap() and kmap_atomic()
    with highmem
  * KVM guest: do not batch pte updates from interrupt context
  * KVM: Fix coalesced interrupt reporting in IOAPIC
  * KVM: VMX: Check cpl before emulating debug register access
  * KVM guest: fix bogus wallclock physical address calculation
  * KVM: x86: Disallow hypercalls for guest callers in rings > 0
  * KVM: VMX: Fix cr8 exiting control clobbering by EPT
  * KVM: x86 emulator: Implement zero-extended immediate decoding
  * KVM: MMU: make __kvm_mmu_free_some_pages handle empty list
  * KVM: x86 emulator: fix jmp far decoding (opcode 0xea)
  * KVM: limit lapic periodic timer frequency
  * libata: fix off-by-one error in ata_tf_read_block()
  * PCI quirk: update 82576 device ids in SR-IOV quirks list
  * PCI: Unhide the SMBus on the Compaq Evo D510 USDT
  * powerpc/pseries: Fix to handle slb resize across migration
  * Linux 2.6.31.1

 --  Tim Gardner <tim.gardner@canonical.com>  Thu, 24 Sep 2009 13:04:28 -0600

linux (2.6.31-10.35) karmic; urgency=low

  [ Amit Kucheria ]

  * Disable CONFIG_UEVENT_HELPER_PATH

  [ Andy Whitcroft ]

  * [Config] Enable CONFIG_USB_GADGET_DUMMY_HCD
  * remove the tlsup driver
  * remove lmpcm logitech driver support

  [ Bryan Wu ]

  * Add 3 missing files to prerm remove file list
    - LP: #345623, #415832

  [ Chris Wilson ]

  * [Upstream] drm/i915: Check that the relocation points to within the
    target
    - LP: #429241

  [ Luke Yelavich ]

  * [Config] Set CONFIG_EXT4_FS=y on ports architectures

  [ Manoj Iyer ]

  * SAUCE: Added quirk to recognize GE0301 3G modem as an interface.
    - LP: #348861

  [ Tim Gardner ]

  * Revert "[Upstream] ACPI: Add Thinkpad W500, W700, & W700ds to OSI(Linux) white-list"
  * Revert "[Upstream] ACPI: Add Thinkpad R400 & Thinkpad R500 to OSI(Linux) white-list"
  * Revert "[Upstream] ACPI: Add Thinkpad X300 & Thinkpad X301 to OSI(Linux) white-list"
  * Revert "[Upstream] ACPI: Add Thinkpad X200, X200s, X200t to OSI(Linux) white-list"
  * Revert "[Upstream] ACPI: Add Thinkpad T400 & Thinkpad T500 to OSI(Linux) white-list"
    Upstream suggests that this is not the right approach.

  * [Config] Set default I/O scheduler to DEADLINE
    CFQ seems to have some load related problems which are often exacerbated by sreadahead.
    - LP: #381300

  [ ubuntu@tjworld.net ]

  * SAUCE: ipw2200: Enable LED by default
    - LP: #21367

  [ Upstream Kernel Changes ]

  * ALSA: hda - Add support for new AMD HD audio devices
    - LP: #430564

 -- Andy Whitcroft <apw@canonical.com>  Wed, 16 Sep 2009 15:37:49 +0100

linux (2.6.31-10.34) karmic; urgency=low

  [ Ted Tso ]

  * [Upstream] ext3: Don't update superblock write time when filesystem is
    read-only
    - LP: #427822

 --  Tim Gardner <tim.gardner@canonical.com>  Tue, 15 Sep 2009 16:00:45 -0600

linux (2.6.31-10.33) karmic; urgency=low

  [ Leann Ogasawara ]

  * [Upstream] dvb-usb: fix tuning with Cinergy T2
    - LP: #421258

  [ Tim Gardner ]

  * [Config] Unconditionally copy files from sub-flavours lists.
    (really, really fix it this time)
    - LP: #423426
  * [Config] Set CONFIG_CACHEFILES=m for all flavours

  [ Upstream Kernel Changes ]

  * ext4: Don't update superblock write time when filesystem is read-only
    - LP: #427822

 --  Tim Gardner <tim.gardner@canonical.com>  Tue, 15 Sep 2009 07:50:21 -0600

linux (2.6.31-10.32) karmic; urgency=low

  [ Eric Miao ]

  * [Config] enable module support for memory stick
    - LP: #159951

  [ Tim Gardner ]

  * [Config] Unconditionally copy files from sub-flavours lists.
    - LP: #423426

 --  Tim Gardner <tim.gardner@canonical.com>  Thu, 10 Sep 2009 15:57:55 -0600

linux (2.6.31-10.31) karmic; urgency=low

  [ Andy Whitcroft ]

  * rebase to v2.6.31 final

  [ Colin Watson ]

  * [Config] Recommend grub-pc in linux-image
    - LP: #385741

  [ Ike Panhc ]

  * [Upstream] Pull latest update of lenovo-sl-laptop

  [ Peter Feuerer ]

  * [Upstream] (drop after 2.6.31) acerhdf: fix fan control for AOA150
    model
    - LP: #426691

  [ Tim Gardner ]

  * [Config] De-macro some package names.

  [ Upstream Changes ]

  * rebase to 2.6.31 final.

 -- Andy Whitcroft <apw@canonical.com>  Thu, 10 Sep 2009 09:38:10 +0100

linux (2.6.31-10.30) karmic; urgency=low

  [ Amit Kucheria ]

  * [Config] Enable CONFIG_USB_DEVICEFS
    - LP: #417748
  * [Config] Populate the config-update template a bit more

  [ Andy Whitcroft ]

  * rebase to v2.6.31-rc9
  * [Config] update configs following rebase to v2.6.31-rc9
  * [Config] update ports configs following rebase to v2.6.31-rc9

  [ Colin Ian King ]

  * SAUCE: wireless: hostap, fix oops due to early probing interrupt
    - LP: #254837

  [ Jerone Young ]

  * [Upstream] ACPI: Add Thinkpad T400 & Thinkpad T500 to OSI(Linux)
    white-list
    - LP: #281732
  * [Upstream] ACPI: Add Thinkpad X200, X200s, X200t to OSI(Linux)
    white-list
    - LP: #281732
  * [Upstream] ACPI: Add Thinkpad X300 & Thinkpad X301 to OSI(Linux)
    white-list
    - LP: #281732
  * [Upstream] ACPI: Add Thinkpad R400 & Thinkpad R500 to OSI(Linux)
    white-list
    - LP: #281732
  * [Upstream] ACPI: Add Thinkpad W500, W700, & W700ds to OSI(Linux)
    white-list
    - LP: #281732

  [ John Johansen ]

  * SAUCE: AppArmor: Fix profile attachment for regexp based profile names
    - LP: #419308
  * SAUCE: AppArmor: Return the correct error codes on profile
    addition/removal
    - LP: #408473
  * SAUCE: AppArmor: Fix OOPS in profile listing, and display full list
    - LP: #408454
  * SAUCE: AppArmor: Fix mapping of pux to new internal permission format
    - LP: #419222
  * SAUCE: AppArmor: Fix change_profile failure
    - LP: #401931
  * SAUCE: AppArmor: Tell git to ignore generated include files
    - LP: #419505

  [ Stefan Bader ]

  * [Upstream] acpi: video: Loosen strictness of video bus detection code
    - LP: #333386
  * SAUCE: Remove ov511 driver from ubuntu subdirectory

  [ Tim Gardner ]

  * [Config] Exclude char-modules from non-x86 udeb creation
  * SAUCE: Notify the ACPI call chain of AC events
  * [Config] CONFIG_SATA_VIA=m
    - LP: #403385
  * [Config] Build in all phylib support modules.
  * [Config] Don't fail when sub-flavour files are missing
    - LP: #423426
  * [Config] Set CONFIG_LSM_MMAP_MIN_ADDR=0
    - LP: #423513

  [ Upstream ]

  * Rebased against v2.6.31-rc9

 -- Andy Whitcroft <apw@canonical.com>  Mon, 07 Sep 2009 11:33:45 +0100

linux (2.6.31-9.29) karmic; urgency=low

  [ Leann Ogasawara ]

  * [Upstream] agp/intel: support for new chip variant of IGDNG mobile
    - LP: #419993
  * [Config] d-i/modules: Add new char-modules file, initialize with
    intel-agp
    - LP: #420605

  [ Upstream ]

  * Rebased against 2.6.31-rc8 plus some inotify regression patches:
    up through git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git
    adda766193ea1cf3137484a9521972d080d0b7af.

 --  Tim Gardner <tim.gardner@canonical.com>  Fri, 28 Aug 2009 06:31:30 -0600

linux (2.6.31-8.28) karmic; urgency=low

  [ Ike Panhc ]

  * [Config] Let nic-shared-modules depends on crypto-modules
    - LP: #360966

  [ Leann Ogasawara ]

  * [Upstream] (drop after 2.6.31) drm/i915: increase default latency
    constant
    - LP: #412492

  [ Mario Limonciello ]

  * [Upstream]: (drop after 2.6.31) dell-laptop: don't change softblock
    status if HW switch is disabled
    - LP: #418721
  * [Upstream]: (drop after 2.6.31) compal-laptop: Add support for known
    Compal made Dell laptops
  * [Upstream]: (drop after 2.6.31) compal-laptop: Replace sysfs support
    with rfkill support

  [ Tim Gardner ]

  * [Config] Add acpiphp to virtual sub-flavour
    - LP: #364916
  * Drop KSM patch set for now because of instabilities with encrypted swap.
    - LP: #418781

 --  Tim Gardner <tim.gardner@canonical.com>  Wed, 26 Aug 2009 08:14:26 -0600

linux (2.6.31-7.27) karmic; urgency=low

  [ Tim Gardner ]

  * [Config] updateconfigs updateportsconfigs after 2.6.31-rc7 rebase
  * SAUCE: (drop after 2.6.31) Added KSM from mmotm-2009-08-20-19-18
    Replaces previous ksm patches from 2.6.31-6.25
  * [Config] KSM=y

  [ Upstream ]

  * Rebased against v2.6.31-rc7

 --  Tim Gardner <tim.gardner@canonical.com>  Sat, 22 Aug 2009 20:32:11 -0600

linux (2.6.31-6.26) karmic; urgency=low

  [ Andy Whitcroft ]

  * [Config] enable CONFIG_AUFS_BR_RAMFS
    - LP: #414738
  * split out debian directory ready for abstraction
  * add printdebian target to find branch target
  * abstracted debian -- debian/files is not abstracted
  * abstracted debian -- packages must be built in debian/<pkg>
  * abstracted debian -- kernel-wedge needs to work in debian/
  * abstracted debian -- ensure we install the copyright file
  * abstracted-debian -- drop the debian directories from headers
  * abstracted-debian -- drop the debian directories from headers part 2
  * SAUCE: ubuntu-insert-changes -- follow abstracted debian
  * [Upstream] aoe: ensure we initialise the request_queue correctly V2
    - LP: #410198

  [ Luke Yelavich ]

  * [Config] Ports: Disable CONFIG_CPU_FREQ_DEBUG on powerpc-smp
  * [Config] Ports: Re-enable windfarm modules on powerpc64-smp
    - LP: #413150
  * [Config] Ports: Build all cpu frequency scaling governors into ports
    kernels
  * [Config] Ports: Build ext2 and ext3 modules into ports kernels
  * [Config] Ports: CONFIG_PACKET=y for all ports kernels
  * [Config] Ports: Enable PS3 network driver

  [ Stefan Bader ]

  * abstracted debian -- call $(DEBIAN)/rules using make

  [ Tim Gardner ]

  * [Config] Abstract the debian directory
  * SAUCE: Improve error reporting in postinst
    - LP: #358564

 --  Tim Gardner <tim.gardner@canonical.com>  Sun, 16 Aug 2009 20:33:28 -0600

linux (2.6.31-6.25) karmic; urgency=low

  [ Andy Whitcroft ]

  * script to generate Ubuntu changes from changelog
  * [Config] standardise ANDROID options
  * [Config] standardise CONFIG_ATM as module
  * [Config] standardise CONFIG_LIB80211 as module
  * [Config] disable CONFIG_PRINT_QUOTA_WARNING
  * [Config] set CONFIG_CRAMFS as module
  * [Config] enable CONFIG_DAB and modules
  * [Config] set CONFIG_MAC80211_HWSIM as module
  * [Config] set CONFIG_NET_CLS_FLOW as module
  * [Config] set CONFIG_NF_CONNTRACK_SANE as module
  * [Config] set CONFIG_NF_CT_PROTO_DCCP as module
  * [Config] set CONFIG_RTC_DRV_DS1511 as module
  * [Config] set CONFIG_RTC_DRV_R9701 as module
  * [Config] set CONFIG_RTC_DRV_S35390A as module
  * [Config] set CONFIG_TOIM3232_DONGLE as module
  * [Config] standardise CONFIG_USB_MIDI_GADGET as module
  * [Config] standardise CONFIG_USB_G_PRINTER as module
  * [Config] standardise CONFIG_USB_SERIAL_IR as module
  * [Config] set CONFIG_USB_SERIAL_IUU as module
  * [Config] standardise CONFIG_USB_STORAGE_CYPRESS_ATACB as module
  * [Config] standardise CONFIG_USB_STORAGE_ONETOUCH as module
  * cleanup remains of dm-loop
  * drop thinkpad ec and smapi support
  * drop appleir
  * [Config] update configs following rebase to v2.6.31-rc6
  * rebase to v2.6.31-rc6

  [ Hugh Dickins ]

  * SAUCE: ksm patch 1, drop after 2.6.31
  * SAUCE: ksm patch 2, drop after 2.6.31
  * SAUCE: ksm patch 3, drop after 2.6.31
  * SAUCE: ksm patch 4, drop after 2.6.31
  * SAUCE: ksm patch 5, drop after 2.6.31
  * SAUCE: ksm patch 7, drop after 2.6.31

  [ Izik Eidus ]

  * SAUCE: ksm patch 0, drop after 2.6.31
  * SAUCE: ksm patch 6, drop after 2.6.31
  * SAUCE: ksm patch 8, drop after 2.6.31
  * SAUCE: ksm patch 9, drop after 2.6.31

  [ Luke Yelavich ]

  * [Config] Ports: Re-add PS3 modules to udebs

  [ Michael Casadevall ]

  * [Config] Update SPARC config and d-i files to reflect what can be built

  [ Tim Gardner ]

  * [Config] Removed armel package support
  * [Config] Enabled CONFIG_KSM=y

  [ Upstream Kernel Changes ]

  * Rebased against v2.6.31-rc6
  * ARM: Cleanup: Revert "ARM: Add more cache memory types macros"
  * ARM: Cleanup: Revert "Do not use OOB with MLC NAND"
  * ARM: Cleanup: Revert "ARM: Make ARM arch aware of ubuntu/ drivers"
  * ARM: Cleanup: Revert "ARM: IMX51: Make video capture drivers compile"
  * ARM: Cleanup: Revert "ARM: IMX51: Fix isl29003 HWMON driver for i2c
    changes"
  * ARM: Cleanup: Revert "ARM: IMX51: IPU irq handler deadlock fix"
  * ARM: Cleanup: Revert "ARM: IMX51: Babbage 2.5 needs a different system
    revision"
  * ARM: Cleanup: Revert "ARM: IMX51: Compile-in the IMX51 cpufreq driver
    by default"
  * ARM: Cleanup: Revert "ARM: IMX51: Enable ZONE_DMA for ARCH_MXC"
  * ARM: Cleanup: Revert "ARM: IMX51: Make ARCH_MXC auto-enable
    ARCH_MXC_CANONICAL"
  * ARM: Cleanup: Revert "ARM: IMX51: Unconditionally disable
    CONFIG_GPIOLIB"
  * ARM: Cleanup: Revert "ARM: IMX51: Minimal changes for USB to work on
    2.6.31"
  * ARM: Cleanup: Revert "ARM: IMX51: Fix plat-mxc/timer.c to handle imx51"
  * ARM: Cleanup: Revert "ARM: IMX51: Make it compile."
  * ARM: Cleanup: Revert "ARM: IMX51: Clean-up the craziness of including
    mxc_uart.h _everywhere_"
  * ARM: Cleanup: Revert "ARM: IMX51: Move board-mx51* header files to the
    correct location"
  * ARM: Cleanup: Revert "ARM: IMX51: Changed from snd_card_new to
    snd_card_create"
  * ARM: Cleanup: Revert "ARM: IMX51: Fix up merge error in Kconfig"
  * ARM: Cleanup: Revert "ARM: IMX51: mxc_timer_init prototype"
  * ARM: Cleanup: Revert "ARM: IMX51: Removed the mxc_gpio_port structure."
  * ARM: Cleanup: Revert "ARM: IMX51: Added external declaration for
    mxc_map_io."
  * ARM: Cleanup: Revert "ARM: IMX51: Get to bus_id by calling dev_name."
  * ARM: Cleanup: Revert "ARM: IMX51: Get to bus_id by calling dev_name."
  * ARM: Cleanup: Revert "ARM: IMX51: snd_soc_machine structure replaced
    with snd_soc_card."
  * ARM: Cleanup: Revert "ARM: IMX51: codec structure was moved to the card
    structure"
  * ARM: Cleanup: Revert "ARM: IMX51: Hack to add defines for
    DMA_MODE_READ/WRITE/MASK"
  * ARM: Cleanup: Revert "ARM: IMX51: Add SoC and board support for
    Freescale mx51 platform"
  * Driver core: add new device to bus's list before probing
  * [Upstream] (drop after 2.6.31) ALSA: hda - Reduce click noise at
    power-saving
    - LP: #381693, #399750, #380892

 -- Andy Whitcroft <apw@canonical.com>  Fri, 14 Aug 2009 11:32:23 +0100

linux (2.6.31-5.24) karmic; urgency=low

  [ Amit Kucheria ]

  * ARM: IMX51: Make video capture drivers compile
  * [Config] IMX51: Config updates

  [ Andy Whitcroft ]

  * remove leftovers of dm-bbr

  [ Leann Ogasawara ]

  * Add pata_cs5535 to pata-modules
    - LP: #318805

  [ Luke Yelavich ]

  * [Config] CONFIG_PPC64=y for powerpc64-smp
  * [Config] Set the maximum number of CPUs to 1024 for powerpc64-smp
  * [Config] CONFIG_PPC_PS3=y for powerpc64-smp
  * [Config] CONFIG_PPC_MAPLE=y on powerpc64-smp
  * [Config] CONFIG_PPC_PASEMI=y on powerpc64-smp
  * [Config] CONFIG_CPU_FREQ_PMAC64=y on powerpc64-smp
  * [Config] Enable all PS3 drivers in powerpc64-smp

  [ Mario Limonciello ]

  * LIRC -- fix lirc-i2c 2.6.31 compilation

  [ Matthew Garrett ]

  * [Upstream] dell-laptop: Fix rfkill state queries

  [ Tim Gardner ]

  * [Config] Ignore armel ABI and module changes
  * [Config] Update configs after rebase against 2.6.31-rc5

  [ Upstream ]

  * Rebased to 2.6.31-rc5

 -- Andy Whitcroft <apw@canonical.com>  Tue, 28 Jul 2009 10:10:09 +0100

linux (2.6.31-4.23) karmic; urgency=low

  [ Andy Whitcroft ]

  * AUFS -- update to aufs2-30 20090727
  * [Config] enable AUFS FUSE support

  [ Luke Yelavich ]

  * [Config] CONFIG_JFS_FS=m on sparc

  [ Tim Gardner ]

  * [Upstream] dell-laptop: Fix rfkill state setting.

 -- Andy Whitcroft <apw@canonical.com>  Mon, 27 Jul 2009 11:11:47 +0100

linux (2.6.31-4.22) karmic; urgency=low

  [ Amit Kucheria ]

  * ARM: IMX51: Add SoC and board support for Freescale mx51 platform
  * ARM: IMX51: Move board-mx51* header files to the correct location
  * ARM: IMX51: Clean-up the craziness of including mxc_uart.h _everywhere_
  * ARM: IMX51: Make it compile.
  * ARM: IMX51: Unconditionally disable CONFIG_GPIOLIB
  * ARM: IMX51: Make ARCH_MXC auto-enable ARCH_MXC_CANONICAL
  * ARM: IMX51: Enable ZONE_DMA for ARCH_MXC
  * ARM: IMX51: Compile-in the IMX51 cpufreq driver by default
  * ARM: IMX51: Fix isl29003 HWMON driver for i2c changes
  * ARM: USB: musb: Refer to musb_otg_timer_func under correct #ifdef
  * ARM: staging: udlfb: Add vmalloc.h include
  * UBUNTU [Config]: Bring imx51 config upto date with other flavours

  [ Brad Figg ]

  * ARM: IMX51: Hack to add defines for DMA_MODE_READ/WRITE/MASK
  * ARM: IMX51: codec structure was moved to the card structure
  * ARM: IMX51: snd_soc_machine structure replaced with snd_soc_card.
  * ARM: IMX51: Get to bus_id by calling dev_name.
  * ARM: IMX51: Get to bus_id by calling dev_name.
  * ARM: IMX51: Added external declaration for mxc_map_io.
  * ARM: IMX51: Removed the mxc_gpio_port structure.
  * ARM: IMX51: mxc_timer_init prototype
  * ARM: IMX51: Fix up merge error in Kconfig
  * ARM: IMX51: Changed from snd_card_new to snd_card_create

  [ Dinh Nguyen ]

  * ARM: IMX51: Fix plat-mxc/timer.c to handle imx51
  * ARM: IMX51: Minimal changes for USB to work on 2.6.31
  * ARM: IMX51: Babbage 2.5 needs a different system revision
  * ARM: IMX51: IPU irq handler deadlock fix

  [ Tim Gardner ]

  * [Config] Enabled CONFIG_CAN=m
    - LP: #327243
  * [Config] Enabled CONFIG_SERIAL=m
    - LP: #397189

 --  Tim Gardner <tim.gardner@canonical.com>  Fri, 24 Jul 2009 06:19:10 -0600

linux (2.6.31-4.21) karmic; urgency=low

  [ Amit Kucheria ]

  * dm-raid-4-5: Add missing brackets around test_bit()

  [ John Johansen ]

  * AppArmor: Fix change_profile failing lpn401931
  * AppArmor: Fix determination of forced AUDIT messages.
  * AppArmor: Fix oops in auditing of the policy interface offset

 -- Andy Whitcroft <apw@canonical.com>  Thu, 23 Jul 2009 19:18:30 +0100

linux (2.6.31-4.20) karmic; urgency=low

  [ Andy Whitcroft ]

  * SAUCE: iscsitarget -- update to SVN revision r214
  * SAUCE: iscsitarget -- renable driver
  * [Config] consolidate lpia/lpia and i386/generic configs
  * [Config] enable CRYPTO modules for all architectures
  * [Config] enable cryptoloop
  * [Config] enable various filesystems for armel
  * [Config] sync i386 generic and generic-pae
  * [Config] add the 386 (486 processors and above) flavour
  * [Config] re-set DEFAULT_MMAP_MIN_ADDR
    - LP: #399914
  * add genconfigs/genportsconfigs to extract the built configs
  * updateconfigs -- alter concatenation order allow easier updates
  * intelfb -- INTELFB now conflicts with DRM_I915
  * printchanges -- rebase tree does not have stable tags use changelog
  * AppArmor: fix argument size missmatch on 64 bit builds

  [ Ike Panhc ]

  * Ship bnx2x firmware in nic-modules udeb
    - LP: #360966

  [ Jeff Mahoney ]

  * AppArmor: fix build failure on ia64

  [ John Johansen ]

  * AppArmour: ensure apparmor enabled parmater is off if AppArmor fails to
    initialize.
  * AppArmour: fix auditing of domain transitions to include target profile
    information
  * AppArmor: fix C99 violation
  * AppArmor: revert reporting of create to write permission.
  * SAUCE: Add config option to set a default LSM
  * [Config] enable AppArmor by default
  * AppArmor: Fix NULL pointer dereference oops in profile attachment.

  [ Keith Packard ]

  * SAUCE: drm/i915: Allow frame buffers up to 4096x4096 on 915/945 class
    hardware
    - LP: #351756

  [ Luke Yelavich ]

  * [Config] add .o files found in arch/powerpc/lib to all powerpc kernel
    header packages
    - LP: #355344

  [ Michael Casadevall ]

  * [Config] update SPARC config files to allow success build

  [ Scott James Remnant ]

  * SAUCE: trace: add trace_event for the open() syscall

  [ Stefan Bader ]

  * SAUCE: jfs: Fix early release of acl in jfs_get_acl
    - LP: #396780

  [ Tim Gardner ]

  * [Upstream] Fix Soltech TA12 volume hotkeys not sending key release
    - LP: #397499
  * [Upstream] USB Option driver - Add USB ID for Novatel MC727/U727/USB727
    refresh
    - LP: #365291
  * [Config] SSB/B44 are common across all arches/flavours.

  [ Upstream ]

  * Rebased to 2.6.31-rc4

 -- Andy Whitcroft <apw@canonical.com>  Thu, 23 Jul 2009 08:41:39 +0100

linux (2.6.31-3.19) karmic; urgency=low

  [ Andy Whitcroft ]

  * Revert "[Config] Disabled NDISWRAPPER"
  * ndiswrapper -- fix i386 compilation failures on cmpxchg8b
  * AUFS -- export various core functions
  * AUFS -- export various core functions -- fixes
  * AUFS -- core filesystem
  * AUFS -- track changes in v2.6.31
  * [Config] Enable AUFS
  * droppped 'iwl3945: do not send scan command if channel count zero' as it
    is already upstream but failed to auto-drop on rebase.

  [ Eric Paris ]

  * SAUCE: fsnotify: use def_bool in kconfig instead of letting the user
    choose
  * SAUCE: inotify: check filename before dropping repeat events
  * SAUCE: fsnotify: fix inotify tail drop check with path entries

 -- Andy Whitcroft <apw@canonical.com>  Tue, 14 Jul 2009 12:52:55 +0100

linux (2.6.31-3.18) karmic; urgency=low

  [ Andy Whitcroft ]

  * Revert "Add splice-2.6.23.patch from AUFS to export a symbol needed by
    AUFS"
  * Revert "Add put_filp.patch from AUFS to export a symbol needed by AUFS"
  * Revert "Add sec_perm-2.6.24.patch from AUFS - export
    security_inode_permission"
  * clear out left over AUFS files and modifications

  [ Luke Yelavich ]

  * [Config] Enable CONFIG_USB_ISP116X_HCD on sparc
  * SAUCE: Explicitly include header files to allow apparmor to build on
    powerpc
  * [Config] Enable CONFIG_BLK_DEV_IDECD on powerpc

  [ Tim Gardner ]

  * [Config] Dropped ubuntu/misc/wireless/acx
  * [Config] Disabled NDISWRAPPER until the compile issues are fixed.

  [ Upstream ]

  * Rebased to 2.6.31-rc3

 -- Andy Whitcroft <apw@canonical.com>  Fri, 10 Jul 2009 18:59:33 +0100

linux (2.6.31-2.17) karmic; urgency=low

  [ Andy Whitcroft ]

  * [Config] CONFIG_BLK_DEV_CRYPTOLOOP=m for sparc
  * compcache -- remove redundant Kconfig entries part 2
  * compcache -- clean up CCFLAGS declarations
  * [Config] enable AppArmor
  * AppArmor: fix operator precidence issue in as_path_link

  [ John Johansen ]

  * AppArmor security module
  * AppArmor: Correct mapping of file permissions.
  * AppArmor: Turn auditing of ptrace on

  [ Luke Yelavich ]

  * [Config] disable CONFIG_DM_RAID45 on powerpc

 -- Andy Whitcroft <apw@canonical.com>  Fri, 10 Jul 2009 15:02:05 +0100

linux (2.6.31-2.16) karmic; urgency=low

  [ Andy Whitcroft ]

  * compcache -- remove redundant Kconfig entries
    added ignore and ignore.modules for all arches since the compcache update
    changes the modules names as well as some compcache ABI values.

  [ Manoj Iyer ]

  * SAUCE: updated dm-raid45 module version to 2009.04.24 (2.6.30-rc3)
  * SAUCE: update compcache version to 0.5.3

  [ Tim Gardner ]

  * [Config]: Fix sparc FTBS by adding ignore.modules

 --  Tim Gardner <tim.gardner@canonical.com>  Mon, 06 Jul 2009 13:35:29 -0600

linux (2.6.31-2.15) karmic; urgency=low

  [ Andy Whitcroft ]

  * SAUCE: default ATI Radeon KMS to off until userspace catches up
  * [Config] Update configs following rebase to 2.6.31-rc2
  * [Config] update ports configs following update to 2.6.31-rc2

  [ Luke Yelavich ]

  * [Config] powerpc - Disable CONFIG_RDS

  [ Matt Zimmerman ]

  * Rename linux-doc-PKGVER to linux-doc and clean up its description
    - LP: #382115

  [ Upstream Kernel Changes ]

  * rebased to mainline 2.6.31-rc2

 -- Andy Whitcroft <apw@canonical.com>  Sat, 04 Jul 2009 17:39:13 +0100

linux (2.6.31-1.14) karmic; urgency=low

  [ Andy Whitcroft ]

  * update ndiswrapper to 1.55
  * remove leftovers of gfs
  * [Config] powerpc: enable CONFIG_PPC_DISABLE_WERROR

  [ Luke Yelavich ]

  * [Config] re-enable and build the ide-pmac driver into powerpc kernels
  * [Config] Build the ServerWorks Frodo / Apple K2 SATA driver into the
    kernel

  [ Manoj Iyer ]

  * Remove snd-bt-sco ubuntu driver

  [ Michael Casadevall ]

  * [Config] updates ia64 config and d-i folders to allow succesful build
  * [Config] Update powerpc and sparc for 2.6.31

  [ Upstream Kernel Changes ]

  * intel-iommu: fix Identity Mapping to be arch independent
    - LP: #384695
  * ACPI: video: prevent NULL deref in acpi_get_pci_dev()

 -- Andy Whitcroft <apw@canonical.com>  Tue, 30 Jun 2009 17:47:32 +0100

linux (2.6.31-1.13) karmic; urgency=low

  [ Andy Whitcroft ]

  * REBASE: rebased to mainline 2.6.31-rc1
    - "UBUNTU: SAUCE: UHCI USB quirk for resume"
      no longer applies, using deprecated interfaces, LPIA only, dropped
    - "UBUNTU: SAUCE: Mask off garbage in Dell WMI scan code data"
      changes now upstream, dropped
  * [Config] Update configs following rebase to 2.6.31-rc1
  * [Config] update ports configs following update to 2.6.31-rc1

  * [Config] disable broken staging driver CONFIG_STLC45XX
  * SAUCE: fix compcache to use updates accessors
  * [Config] disable staging driver CONFIG_VT6655
  * SAUCE: fix DRDB to use updates accessors
  * [Disable] ndiswrapper needs update
  * [Disable] LIRC I2C needs update
  * [Disable] CONFIG_LENOVO_SL_LAPTOP needs update
  * [Config] disable I2C_DESIGNWARE does not compile
  * [Config] disable CONFIG_TLSUP for lpia
  * [Config] disable CONFIG_FB_UDL for arm
  * SAUCE: disable adding scsi headers to linux-libc-dev

  [ Mario Limonciello ]

  * SAUCE: Add LIRC drivers

 -- Andy Whitcroft <apw@canonical.com>  Thu, 25 Jun 2009 12:06:22 +0100

linux (2.6.30-10.12) karmic; urgency=low

  [ Andy Whitcroft ]

  * [Config] split out the ports configs into their own family
  * [Config] update configs following introduction of ports family

  [ Upstream Kernel Changes ]

  * Revert "Rename linux-doc-PKGVER to linux-doc and clean up its
    description". Fixes linux-doc package name conflicts for now.
    - LP: #382115

 --  Tim Gardner <tim.gardner@canonical.com>  Mon, 22 Jun 2009 09:17:14 -0600

linux (2.6.30-10.11) karmic; urgency=low

  [ Amit Kucheria ]

  * [Config] Comment splitconfig.pl and misc cleanup
  * [Config] Rename all configs to the new naming scheme
  * [Config] Splitconfig rework
  * [Config] Rename scripts/misc/oldconfig to kernelconfig
  * [Config] Fix build system for new config split
  * [Config] Run updateconfigs after the splitconfig rework

  [ Andy Whitcroft ]

  * Revert "SAUCE: Default to i915.modeset=0 if CONFIG_DRM_I915_KMS=y"
  * [Config] standardise CONFIG_STAGING=y
  * [Config] standardise CONFIG_RD_LZMA=y
  * [Config] CONFIG_PCI_IOV=y
  * [Config] CONFIG_PCI_STUB=m
  * [Config] merge kernel configs more agressively

  [ Colin Watson ]

  * [Config] Run kernel-wedge in $(builddir) rather than at the top level
  * [Config] Add support for including firmware in udebs
  * [Config] Ship bnx2 firmware in nic-modules udeb
    - LP: #384861

  [ Luke Yelavich ]

  * [Config] ports - Import of ports architectures into kernel packaging
    infrastructure
  * [Config] ports - Do not update ports kernel configurations by default
  * [Config] ports - Disable ABI checking for ports architectures
  * [Config] ports - Build drivers in ubuntu sub-directory on powerpc
  * [Config] ports - Add control.d/vars.* files for ports architectures
  * [Config] ports - Add ports architectures for linux-libc-dev
  * [Config] ports - Create powerpc specific message-modules and
    block-modules udebs
  * [Config] ports - Add configuration files for ports architectures

  [ Manoj Iyer ]

  * [Config] Enable CONFIG_BLK_DEV_AEC62XX=m for amd64 and i386
    - LP: #329864

  [ Michael Casadevall ]

  * [Config] ports - Fix compression of kernels

  [ Stefan Bader ]

  * [Upstream] mmc: prevent dangling block device from accessing stale
    queues
    - LP: #383668

  [ Tim Gardner ]

  * [Config] Recommend grub-pc in linux-image
    - LP: #385741
  * [Config] Implement i386 generic and generic-pae flavours
  * [Config] ports - Add control info after integrating ports arches
  * [Config] Removed auto-generated files from git
  * [Config] Added netxen_nic to nic-modules
    - LP: #389603

  [ Matt Zimmerman ]

  * Rename linux-doc-PKGVER to linux-doc and clean up its description
    - LP: #382115

 --  Tim Gardner <tim.gardner@canonical.com>  Mon, 15 Jun 2009 14:38:26 -0600

linux (2.6.30-9.10) karmic; urgency=low

  [ Andy Whitcroft ]

  * [Config] CONFIG_SECURITY_TOMOYO=y (amd64, i386, lpia)
  * [Config] CONFIG_KEXEC_JUMP=y (amd64, lpia)
  * [Config] CONFIG_LENOVO_SL_LAPTOP=m (amd64, lpia)
  * [Config] CONFIG_POHMELFS_CRYPTO=y (i386, amd64)
  * [Config] CONFIG_SERIAL_MAX3100=m (i386, amd64, lpia)
  * [Config] CONFIG_VIDEO_GO7007=m (amd64, i386)

  [ Upstream Kernel Changes ]

  * rebased to 2.6.30 final

 -- Andy Whitcroft <apw@canonical.com>  Fri, 05 Jun 2009 11:42:53 +0100

linux (2.6.30-8.9) karmic; urgency=low

  [ Andy Whitcroft ]

  * Config update removed the following options:
        CONFIG_EDAC_AMD8111=m
        CONFIG_EDAC_AMD8131=m

  [ Upstream Kernel Changes ]

  * rebased to 2.6.30-rc8

 -- Andy Whitcroft <apw@canonical.com>  Wed, 03 Jun 2009 09:21:13 +0100

linux (2.6.30-7.8) karmic; urgency=low

  [ Andy Whitcroft ]

  * Enabled NEW configration options:
      Paravirtualization layer for spinlocks (PARAVIRT_SPINLOCKS) [N/y/?] Y
      Cisco FNIC Driver (FCOE_FNIC) [N/m/y/?] M

  [ Upstream Kernel Changes ]

  * rebased to 2.6.30-rc7

 -- Andy Whitcroft <apw@canonical.com>  Sat, 23 May 2009 23:47:24 +0100

linux (2.6.30-6.7) karmic; urgency=low

  [ Andy Whitcroft ]

  * Dropped: UBUNTU: SAUCE: input: Blacklist digitizers from joydev.c (now
    upstream)

  [ Upstream Kernel Changes ]

  * rebased to 2.6.30-rc6

 -- Andy Whitcroft <apw@canonical.com>  Mon, 18 May 2009 18:05:54 +0100

linux (2.6.30-5.6) karmic; urgency=low

  [ Tim Gardner ]

  * [Config] Enable Keyspan USB serial device firmware in kernel module
    - LP: #334285

  [ Upstream Kernel Changes ]

  * rebased to 2.6.30-rc5

 --  Tim Gardner <tim.gardner@canonical.com>  Mon, 11 May 2009 12:02:16 -0600

linux (2.6.30-4.5) karmic; urgency=low

  [ Colin Watson ]

  * Build-Conflict with findutils (= 4.4.1-1ubuntu1), to avoid
    /usr/include/asm/* going missing
    - LP: #373214

 -- Stefan Bader <stefan.bader@canonical.com>  Fri, 08 May 2009 11:09:08 +0200

linux (2.6.30-3.4) karmic; urgency=low

  [ Kees Cook ]

  * SAUCE: [x86] implement cs-limit nx-emulation for ia32
    - LP: #369978

  [ Stefan Bader ]

  * SAUCE: input: Blacklist digitizers from joydev.c
    - LP: #300143

 --  Tim Gardner <tim.gardner@canonical.com>  Fri, 01 May 2009 14:00:42 -0600

linux (2.6.30-2.3) karmic; urgency=low

  [ Tim Gardner ]

  * [Config] Enabled CC_STACKPROTECTOR=y for all x86en
    - LP: #369152
  * SAUCE: Default to i915_modeset=0 if CONFIG_DRM_I915_KMS=y
  * [Config] CONFIG_DRM_I915_KMS=y
  * [Config] Set CONFIG_SECURITY_DEFAULT_MMAP_MIN_ADDR to appropriate ARCH
    minimums

  [ Upstream Kernel Changes ]

  * rebased to 2.6.30-rc4

 --  Tim Gardner <tim.gardner@canonical.com>  Thu, 30 Apr 2009 09:17:05 -0600

linux (2.6.30-1.2) karmic; urgency=low

  [ Tim Gardner ]

  * [Config] armel: disable staging drivers, fixes FTBS
  * [Config] armel imx51: Disable CONFIG_MTD_NAND_MXC, fixes FTBS

  [ Upstream Kernel Changes ]

  * mpt2sas: Change reset_type enum to avoid namespace collision.
    Submitted upstream.

 --  Tim Gardner <tim.gardner@canonical.com>  Tue, 28 Apr 2009 16:54:41 -0600

linux (2.6.30-1.1) karmic; urgency=low

  * Initial release after rebasing against v2.6.30-rc3

 --  Tim Gardner <tim.gardner@canonical.com>  Thu, 12 Mar 2009 19:16:07 -0600
