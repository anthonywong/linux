diff --git a/arch/x86/kernel/vmlinux.lds.S b/arch/x86/kernel/vmlinux.lds.S
index 4f7d5ef..b955f3d 100644
--- a/arch/x86/kernel/vmlinux.lds.S
+++ b/arch/x86/kernel/vmlinux.lds.S
@@ -399,8 +399,10 @@ SECTIONS
 
 
 #ifdef CONFIG_X86_32
+#if !defined(CONFIG_XEN) || CONFIG_XEN_COMPAT > 0x030002
 . = ASSERT((_end - LOAD_OFFSET <= KERNEL_IMAGE_SIZE),
 	   "kernel image bigger than KERNEL_IMAGE_SIZE");
+#endif
 #else
 /*
  * Per-cpu symbols which need to be offset from __per_cpu_load
